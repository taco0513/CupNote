# â˜• Coffee Data Crawler

ì»¤í”¼ ë¡œìŠ¤í„°ë¦¬ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì œí’ˆ ì •ë³´ë¥¼ í¬ë¡¤ë§í•˜ì—¬ OCR í•™ìŠµ ë°ì´í„°ë¥¼ ìƒì„±í•˜ëŠ” ì‹œìŠ¤í…œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

CupNoteì˜ OCR ì •í™•ë„ í–¥ìƒì„ ìœ„í•´ ì „ ì„¸ê³„ ë¡œìŠ¤í„°ë¦¬ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì»¤í”¼ ì œí’ˆ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ë¨¸ì‹ ëŸ¬ë‹ í•™ìŠµ ë°ì´í„°ì…‹ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

## ğŸ¯ ëª©í‘œ

- **ì •í™•ë„ 90%+** OCR ì„±ëŠ¥ ë‹¬ì„±
- **1000+ê°œ** ì»¤í”¼ ì œí’ˆ ë°ì´í„° ìˆ˜ì§‘  
- **ë‹¤ì–‘í•œ ë¼ë²¨ íŒ¨í„´** í•™ìŠµ (í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´ ë“±)
- **ì‹¤ì‹œê°„ í•™ìŠµ** ì‚¬ìš©ì í”¼ë“œë°± + í¬ë¡¤ë§ ë°ì´í„° ê²°í•©

## ğŸ“Š Phase ë³„ ê³„íš

### Phase 1: í”„ë¡œí† íƒ€ì… (2-3ì£¼) âš¡ ì§„í–‰ì¤‘
- [x] ê¸°ë³¸ í¬ë¡¤ë§ ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] 5-10ê°œ ë¡œìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸ í¬ë¡¤ë§
- [ ] 100-200ê°œ ì œí’ˆ ë°ì´í„° ìˆ˜ì§‘
- [ ] Supabase ì €ì¥ ì‹œìŠ¤í…œ êµ¬ì¶•

### Phase 2: í™•ì¥ (1-2ê°œì›”)
- [ ] 20-30ê°œ ë¡œìŠ¤í„°ë¦¬ë¡œ í™•ì¥
- [ ] 1000-2000ê°œ ì œí’ˆ ë°ì´í„° ìˆ˜ì§‘
- [ ] OCR ì •í™•ë„ ì¸¡ì • ì‹œìŠ¤í…œ

### Phase 3: ML í†µí•© (2-3ê°œì›”)
- [ ] ìˆ˜ì§‘ ë°ì´í„°ë¡œ OCR íŒŒì‹± ë¡œì§ ê°œì„ 
- [ ] ì‚¬ìš©ì í”¼ë“œë°± + í¬ë¡¤ë§ ë°ì´í„° ê²°í•©
- [ ] ì •í™•ë„ 90%+ ë‹¬ì„±

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Roastery      â”‚    â”‚   Coffee Data    â”‚    â”‚   Supabase      â”‚
â”‚   Websites      â”‚â”€â”€â”€â–¶â”‚   Crawler        â”‚â”€â”€â”€â–¶â”‚   Database      â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   OCR Learning   â”‚
                       â”‚   Pipeline       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
scripts/coffee-crawler/
â”œâ”€â”€ README.md                 # ì´ íŒŒì¼
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ crawlers/            # ë¡œìŠ¤í„°ë¦¬ë³„ í¬ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ base-crawler.ts  # ê¸°ë³¸ í¬ë¡¤ëŸ¬ í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ korean/          # í•œêµ­ ë¡œìŠ¤í„°ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ unspecialty.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ nams.ts
â”‚   â”‚   â”‚   â””â”€â”€ elcafe.ts
â”‚   â”‚   â””â”€â”€ global/          # í•´ì™¸ ë¡œìŠ¤í„°ë¦¬
â”‚   â”‚       â”œâ”€â”€ blue-bottle.ts
â”‚   â”‚       â””â”€â”€ stumptown.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ coffee-data.ts   # íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ image-processor.ts
â”‚   â”‚   â””â”€â”€ data-validator.ts
â”‚   â””â”€â”€ database/
â”‚       â””â”€â”€ supabase-client.ts
â”œâ”€â”€ config/
â”‚   â””â”€â”€ roasteries.json      # ë¡œìŠ¤í„°ë¦¬ ì„¤ì •
â””â”€â”€ docs/
    â”œâ”€â”€ crawling-strategy.md
    â””â”€â”€ data-schema.md
```

## ğŸ¨ ë°ì´í„° ìŠ¤í‚¤ë§ˆ

```typescript
interface CoffeeProductData {
  // ê¸°ë³¸ ì •ë³´
  coffeeName: string           // "El Diviso - Ombligon Decaf"
  roastery: string            // "Blue Bottle Coffee"
  
  // ì›ì‚°ì§€ ì •ë³´
  origin: string              // "Colombia"
  region?: string             // "Bruselas, Pitalito-Huila"
  farm?: string               // "Granja Paraiso 92"
  
  // ì»¤í”¼ íŠ¹ì„±
  variety?: string            // "Red Bourbon"
  processing?: string         // "Double anaerobic + Thermal shock"
  roastLevel?: string         // "Medium", "Light", "Dark"
  altitude?: number           // 1950
  
  // í…Œì´ìŠ¤íŒ… ì •ë³´
  tastingNotes: string[]      // ["íˆë¹„ìŠ¤ì»¤ìŠ¤ ì°¨", "ë¦¬ì¹˜", "ë”¸ê¸°"]
  
  // ë©”íƒ€ë°ì´í„°
  price?: number              // 28000
  productUrl: string          // ì›ë³¸ í˜ì´ì§€
  imageUrls: string[]         // ì œí’ˆ ì´ë¯¸ì§€ë“¤
  labelImageUrl?: string      // ë¼ë²¨ ì´ë¯¸ì§€ (OCR í•™ìŠµìš©)
  
  // ì¶”ì  ì •ë³´
  crawledAt: Date
  source: 'web_crawled' | 'user_feedback'
  verified: boolean
}
```

## ğŸš€ ì‚¬ìš©ë²•

### ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜ (ì´ë¯¸ ì™„ë£Œ)
npm install --save-dev puppeteer cheerio axios @types/cheerio

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# SUPABASE_URL, SUPABASE_ANON_KEY ì„¤ì •

# í¬ë¡¤ëŸ¬ ì‹¤í–‰
npm run crawler:start
```

### ë‹¨ì¼ ë¡œìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸

```bash
# íŠ¹ì • ë¡œìŠ¤í„°ë¦¬ë§Œ í¬ë¡¤ë§
npm run crawler:test -- --roastery=unspecialty
```

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ & ë¶„ì„

- **í¬ë¡¤ë§ ì„±ê³µë¥ **: 95%+ ëª©í‘œ
- **ë°ì´í„° í’ˆì§ˆ**: ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸ ë§¤ì¹­ ê²€ì¦
- **ì¤‘ë³µ ì œê±°**: URL ê¸°ë°˜ ì¤‘ë³µ ë°©ì§€
- **ì—ëŸ¬ íŠ¸ë˜í‚¹**: ì‹¤íŒ¨í•œ í˜ì´ì§€ ë¡œê¹…

## âš–ï¸ ë²•ì  ê³ ë ¤ì‚¬í•­

- **robots.txt ì¤€ìˆ˜**: ëª¨ë“  ì‚¬ì´íŠ¸ í¬ë¡¤ë§ ì „ í™•ì¸
- **ìš”ì²­ ê°„ê²©**: ì„œë²„ ë¶€í•˜ ë°©ì§€ (2-5ì´ˆ ê°„ê²©)
- **ì €ì‘ê¶Œ ì¤€ìˆ˜**: êµìœ¡/ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©
- **ê°œì¸ì •ë³´ ë³´í˜¸**: ê°œì¸ ì‹ë³„ ì •ë³´ ìˆ˜ì§‘ ê¸ˆì§€

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **Node.js + TypeScript**: ë©”ì¸ ì–¸ì–´
- **Puppeteer**: ë¸Œë¼ìš°ì € ìë™í™”
- **Cheerio**: HTML íŒŒì‹±
- **Supabase**: ë°ì´í„° ì €ì¥
- **Axios**: HTTP ìš”ì²­

## ğŸ“ ì°¸ê³  ë¬¸ì„œ

- [í¬ë¡¤ë§ ì „ëµ](./docs/crawling-strategy.md)
- [ë°ì´í„° ìŠ¤í‚¤ë§ˆ](./docs/data-schema.md)
- [ë¡œìŠ¤í„°ë¦¬ ì¶”ê°€ ê°€ì´ë“œ](./docs/adding-roasteries.md)

---

**Last Updated**: 2025-08-05  
**Version**: 1.0.0  
**Status**: Phase 1 ì§„í–‰ì¤‘ âš¡