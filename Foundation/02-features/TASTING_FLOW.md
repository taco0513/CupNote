# TastingFlow - 핵심 커피 테이스팅 워크플로우

> 기술 스택과 무관한 비즈니스 로직 명세서

## 🎯 기능 개요

**TastingFlow**는 사용자가 커피를 체계적으로 기록하고 평가하는 핵심 워크플로우입니다.

### 비즈니스 목표

- 커피 입문자도 전문가처럼 커피를 평가할 수 있도록 돕기
- 한국인에게 친숙한 감각 표현으로 진입장벽 낮추기
- 개인의 커피 취향을 데이터로 발견하고 발전시키기

---

## 📊 3단계 사용자 모드

### 1. Cafe Mode (카페 방문객용)

**대상**: 카페에서 커피를 마시며 간단히 기록하고 싶은 사용자
**소요시간**: 3-5분
**핵심가치**: 빠르고 쉬운 기록

#### 필수 정보

- 카페 이름
- 커피 이름
- 온도 (Hot/Iced)

#### 선택 정보

- 원산지
- 품종
- 가공방식
- 로스팅 레벨

#### 워크플로우

1. **기본 정보 입력** → 2. **향미 선택** → 3. **한국어 감각 표현** → 4. **개인 노트** → 5. **로스터 노트** → 6. **결과 확인**

---

### 2. HomeCafe Mode (홈카페족용) 🆕 UI 혁신 적용

**대상**: 집에서 직접 커피를 내려마시는 취미자
**소요시간**: 5-8분
**핵심가치**: 레시피 실험과 개선

#### 추가 기록 항목

- **드리퍼 종류**: V60, Kalita Wave, Origami, Chemex, Fellow Stagg, April, Orea, Flower Dripper, Blue Bottle, Timemore Crystal Eye (10종)
- **레시피 상세**:
  - **원두량 (g)**: 다이얼 제어 시스템 (± 1g 정밀 조정)
  - **물량 (ml)**: 비율 기반 자동 계산
  - **비율 프리셋**: 1:15, 1:15.5, 1:16, 1:16.5, 1:17, 1:17.5, 1:18 (7개 버튼)
  - **물 온도**: 온도 입력 (°C)
  - **추출 타이머**: 총 시간 + 5단계 랩타임 기록
- **개인 레시피 저장**: "나의 커피" 저장/불러오기 기능

#### 🎛️ 핵심 UI 혁신 (2025-07-27)

1. **다이얼 제어 시스템**: 바리스타급 정밀도로 원두량 조정
2. **비율 중심 접근**: 복잡한 이름 대신 명확한 비율 표시
3. **실시간 계산**: 원두량 변경 시 선택된 비율 유지하며 물량 자동 계산
4. **영구 저장**: 개인 레시피를 로컬에 저장하여 언제든 재사용
5. **5-Field 간소화**: 드리퍼 → 레시피 → 다이얼 → 타이머 → 노트

#### 워크플로우

1. **기본 정보** → 2. **추출 장비/레시피** → 3. **향미 선택** → 4. **한국어 감각 표현** → 5. **개인 노트** → 6. **로스터 노트** → 7. **결과 확인**

---

### 3. Lab Mode (전문가/연구용) ✅ 워크플로우 수정

**대상**: 커핑 전문가, 바리스타, 상세 분석이 필요한 사용자
**소요시간**: 8-12분
**핵심가치**: 과학적이고 정밀한 평가

#### 추가 평가 항목

- **실험 조건 설정**: TDS, 추출 수율, 실험 변수
- **수치 평가 (슬라이더)**:
  - Body (1-5)
  - Acidity (1-5)
  - Sweetness (1-5)
  - Finish (1-5)
  - Bitterness (1-5)
  - Balance (1-5)
  - Texture (Juicy/Soft/Round/Velvety 선택)
- **상세 차트**: 레이더 차트, 막대 그래프 (Lab 모드 전용)

#### 워크플로우 (2025-07-27 수정)

1. **기본 정보** → 2. **실험 조건** → 3. **향미 선택** → 4. **수치 평가 (슬라이더)** → 5. **한국어 감각 표현** → 6. **개인 노트** → 7. **로스터 노트** → 8. **상세 결과**

**⚠️ 중요 변경사항**:

- 수치 평가(슬라이더) 후 한국어 감각 표현을 진행합니다
- 과학적 측정 → 주관적 표현 순서가 논리적 흐름입니다
- 결과 화면에서만 상세 차트가 표시됩니다

---

## 🎨 한국어 감각 표현 시스템

### 설계 철학

- SCA(Specialty Coffee Association) 국제 표준 준수
- 한국인의 미각 표현 문화 반영
- CATA(Check All That Apply) 방법론 적용

### 6개 카테고리 × 7개 표현 = 총 44개

#### 1. 산미 (Acidity)

- 싱그러운
- 발랄한
- 톡 쏘는
- 상큼한
- 과일 같은
- 와인 같은
- 시트러스 같은

#### 2. 단맛 (Sweetness)

- 농밀한
- 달콤한
- 꿀 같은
- 캐러멜 같은
- 설탕 같은
- 당밀 같은
- 메이플 시럽 같은

#### 3. 쓴맛 (Bitterness)

- 스모키한
- 카카오 같은
- 허브 느낌의
- 고소한
- 견과류 같은
- 다크 초콜릿 같은
- 로스티한

#### 4. 바디 (Body)

- 크리미한
- 벨벳 같은
- 묵직한
- 가벼운
- 실키한
- 오일리한
- 물 같은

#### 5. 애프터 (Aftertaste)

- 깔끔한
- 길게 남는
- 산뜻한
- 여운이 좋은
- 드라이한
- 달콤한 여운의
- 복합적인

#### 6. 밸런스 (Balance)

- 조화로운
- 부드러운
- 자연스러운
- 복잡한
- 단순한
- 안정된
- 역동적인

### 선택 규칙

- 카테고리당 최대 3개까지 선택 가능
- 최소 1개 카테고리는 선택 필수
- 중복 선택 불가

---

## 📈 Match Score 알고리즘

### 개념

사용자가 선택한 향미/감각과 로스터가 제공한 노트 간의 일치도를 계산

### 계산 방법

1. **직접 일치**: 동일한 표현 사용 시 100%
2. **유사 일치**: 같은 카테고리 내 표현 시 70%
3. **연관 일치**: 연관된 표현 사용 시 50%

### 활용

- 사용자의 미각 정확도 피드백
- 커피 선택 시 참고 지표
- 개인 취향 발견 도구

---

## 💾 데이터 구조

### 기본 테이스팅 정보

```
Tasting {
  id: 고유 식별자
  created_at: 생성 시간
  mode: 'cafe' | 'home_cafe' | 'lab'

  // 기본 정보
  cafe_name: 카페/로스터 이름
  coffee_name: 커피 이름
  temperature: 'hot' | 'iced'

  // 선택 정보
  origin?: 원산지
  variety?: 품종
  processing?: 가공법
  roast_level?: 로스팅 레벨

  // 평가 데이터
  flavors: 향미 선택 목록 (최대 5개)
  sensory_expressions: 한국어 감각 표현 (카테고리별)
  personal_note?: 개인 노트 (200자)
  roaster_notes?: 로스터 노트

  // 계산 결과
  match_score?: 일치도 점수
}
```

### HomeCafe 추가 데이터 (간소화)

```
HomeCafeData {
  dripper: 드리퍼 종류 (10종 지원)
  recipe: {
    coffee_amount: 원두량(g) - 다이얼 제어
    water_amount: 물량(ml) - 자동 계산
    ratio: 비율 (1:15~1:18)
    water_temp?: 물 온도(°C)
    brew_time?: 총 추출 시간(초)
    lap_times?: 5단계 랩타임 기록
  }
  grind_note?: 그라인딩 메모
  quick_note?: 추출 노트

  // 개인 레시피 저장
  saved_recipe?: {
    name: "나의 커피"
    coffee_amount: 저장된 원두량
    water_amount: 저장된 물량
    ratio: 저장된 비율
  }
}
```

### Lab Mode 추가 데이터

```
LabData {
  experimental: {
    tds?: TDS 측정값
    extraction_yield?: 추출 수율
    variables?: 실험 변수
  }
  sensory_scores: {
    body: 1-5
    acidity: 1-5
    sweetness: 1-5
    finish: 1-5
    bitterness: 1-5
    balance: 1-5
    texture?: 'Juicy' | 'Soft' | 'Round' | 'Velvety'
  }
  // 결과 화면 전용
  charts: {
    radar_chart: 6개 축 레이더 차트
    bar_chart: 항목별 막대 그래프
  }
}
```

---

## 🎯 핵심 사용자 경험 원칙

### 1. 점진적 복잡성

- 입문자는 간단하게 시작
- 실력 향상에 따라 상세 기능 활용
- 모드 전환으로 성장 지원

### 2. 한국 문화 적응

- 영어 전문 용어 최소화
- 한국인의 미각 표현 방식 반영
- 직관적인 UI/UX

### 3. 데이터 기반 성장

- 개인 취향 패턴 발견
- 시간에 따른 미각 발달 추적
- 커뮤니티 비교 인사이트

### 4. 실용적 가치

- 카페 선택 시 참고 자료
- 홈카페 레시피 개선
- 커피 지식 축적

---

## 📱 화면 구성 요구사항

### 공통 요구사항

- 진행 상황 표시 (Progress Bar)
- 뒤로가기 지원
- 임시 저장 기능
- 오프라인 지원

### 화면별 핵심 기능

#### 1. 모드 선택 화면

- 3개 모드 카드형 선택
- 각 모드 설명과 예상 시간
- 추천 모드 하이라이트

#### 2. 커피 정보 입력

- 자동완성 지원
- 최근 입력 기록
- 사진 추가 옵션

#### 3. 향미 선택

- 카테고리별 그룹핑
- 시각적 향미 휠
- 선택 개수 제한 표시

#### 4. 한국어 감각 표현

- 탭 또는 아코디언 UI
- 선택된 표현 하이라이트
- 카테고리별 진행 표시

#### 5. 결과 화면

- Match Score 시각화
- 주요 정보 요약
- 공유 기능
- 다음 행동 유도

---

## 🚀 확장 가능성

### Phase 1 (MVP) ✅ 완료

- 3가지 모드 기본 기능
- 오프라인 저장
- 기본 통계
- HomeCafe UI 혁신 (다이얼 제어, 비율 프리셋)

### Phase 2 (Post-MVP)

- AI 기반 추천 (Smart Insights)
- 사진 OCR 기능
- 커뮤니티 기능
- 성취 시스템 확장

### Phase 3 (성장)

- 전문가 매칭
- 교육 콘텐츠
- 국제화 (미국/일본 시장)
- 프리미엄 구독 모델

### Phase 4 (확장)

- B2B 서비스
- 데이터 분석 API
- 프랜차이즈 연동
- 로스터리 대시보드

---

## 💼 비즈니스 가치

### 사용자 가치

1. **접근성**: 커피 입문자도 전문가처럼 평가 가능
2. **성장**: 개인 취향 발견과 미각 발달 추적
3. **편의성**: 3-5분 내 간편한 기록
4. **개인화**: "나의 커피" 레시피 저장

### 시장 차별화

1. **한국어 네이티브**: 44개 한국어 감각 표현 (국내 유일)
2. **3-Tier 시스템**: 사용자 수준별 맞춤 경험
3. **과학적 접근**: SCA 표준 + 한국 문화 융합
4. **HomeCafe 특화**: 다이얼 제어 등 혁신적 UI

### 수익 모델

- **Freemium**: Cafe Mode 무료, HomeCafe/Lab 프리미엄
- **구독**: 월 4,900원 (연 39,900원)
- **B2B**: 카페/로스터리 대시보드

---

**문서 버전**: 1.1
**최종 수정**: 2025-07-28
**변경사항**: HomeCafe UI 혁신, Lab Mode 워크플로우 수정, 비즈니스 가치 추가
**용도**: 기술 독립적 비즈니스 로직 정의
