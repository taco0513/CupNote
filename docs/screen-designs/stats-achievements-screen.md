# 📊 통계/업적 화면 설계

## 📱 화면 개요
**통계/업적 화면**은 사용자의 커피 테이스팅 여정을 시각적으로 보여주고, 성취를 통한 동기부여를 제공하는 대시보드입니다.

## 🎯 핵심 목적
- **진행 상황 시각화**: 테이스팅 활동의 트렌드와 패턴 분석
- **개인 성장 추적**: 시간에 따른 감각 발전과 선호도 변화
- **성취 동기부여**: 배지 시스템과 목표 달성으로 지속 사용 유도
- **인사이트 제공**: 데이터 기반 개인 커피 프로필 분석

## 📋 화면 구성 요소

### 1. **요약 대시보드**
```
📊 나의 커피 여정
┌─────────────────────────┐
│  총 47개     평균 4.2점   │
│    기록       ⭐⭐⭐⭐    │
│                        │
│  15개 카페   🔥 7일 연속  │
│   방문        기록중     │
└─────────────────────────┘
```
- 핵심 지표 4개 요약
- 큰 숫자와 아이콘으로 임팩트
- 현재 스트릭 표시

### 2. **기간별 활동 차트**
```
📈 활동 트렌드 (최근 3개월)
┌─────────────────────────┐
│ 주간 기록 수             │
│    ┌─┐                │
│ 10 │▓│                │
│  5 │▓│ ┌─┐ ┌─┐ ┌─┐    │
│  0 └─┘ └─┘ └─┘ └─┘    │
│    5월  6월  7월  8월   │
│                        │
│ 💡 6월에 가장 활발했어요! │
└─────────────────────────┘
```
- 주/월별 기록 수 차트
- 평균 점수 트렌드 라인
- 인사이트 메시지

### 3. **커피 프로필 분석**
```
☕ 나의 커피 프로필
┌─────────────────────────┐
│ 🎯 선호 향미             │
│ ████████ Fruity  (32%)  │
│ ██████   Nutty   (25%)  │
│ ████     Sweet   (18%)  │
│ ██       Floral  (15%)  │
│                        │
│ 🏪 주요 활동 영역        │
│ • 카페 방문: 60%        │
│ • 홈 브루잉: 35%        │
│ • 실험실 모드: 5%       │
│                        │
│ ⭐ 평점 분포             │
│ 5점 ████████ (40%)      │
│ 4점 ██████   (35%)      │
│ 3점 ███      (20%)      │
│ 2점 █        (5%)       │
└─────────────────────────┘
```
- 선호 향미 분포 (가로 막대)
- 모드별 사용 패턴
- 평점 분포 히스토그램

### 4. **상위 기록들**
```
🏆 베스트 커피들
┌─────────────────────────┐
│ 1. ⭐5.0 콜롬비아 수프리모 │
│    📍 블루보틀 성수      │
│    💚 2025.07.15       │
│                        │
│ 2. ⭐4.9 에티오피아 코케  │
│    📍 프릳츠 홍대       │
│    💚 2025.07.20       │
│                        │
│ 3. ⭐4.8 과테말라 안티구아 │
│    📍 커피리브레        │
│    💚 2025.07.22       │
│                        │
│ [더보기 ▶]             │
└─────────────────────────┘
```
- 최고 평점 커피 TOP 3
- 카페 정보와 날짜
- 더보기로 전체 순위 확인

### 5. **업적 시스템**
```
🏅 업적 배지 (8/15 달성)
┌─────────────────────────┐
│ 🥇 첫 걸음    ✅ 달성     │
│    첫 번째 기록          │
│                        │
│ ☕ 커피 애호가  ✅ 달성    │
│    10개 기록 달성        │
│                        │
│ 🔍 탐험가     🔒 3/5     │
│    5개 다른 카페 방문    │
│                        │
│ 📊 분석가     🔒 미달성   │
│    실험실 모드 10회 사용  │
│                        │
│ [전체 업적 보기 ▶]       │
└─────────────────────────┘
```
- 달성/미달성 배지 구분
- 진행률 표시 (진행 중)
- 조건 설명
- 시각적 배지 아이콘

### 6. **목표 및 도전과제**
```
🎯 이번 달 목표
┌─────────────────────────┐
│ 📝 15개 기록하기         │
│ ████████░░ 8/15 (53%)   │
│ 🗓️ 21일 남음            │
│                        │
│ 🏪 새로운 카페 3곳 방문   │
│ ██████░░░░ 2/3 (67%)    │
│                        │
│ ⭐ 평균 4.0점 이상 유지   │
│ ████████░░ 4.2/4.0 ✅   │
│                        │
│ 💡 주간 도전: 홈브루 모드 │
│    집에서 커피 3번 내려보기 │
│    ████░░░░░░ 1/3       │
└─────────────────────────┘
```
- 월간/주간 목표 설정
- 진행률 바와 남은 기간
- 달성시 보상 힌트

### 7. **커피 지도**
```
🗺️ 나의 커피 지도
┌─────────────────────────┐
│     📍 성수동 (12)       │
│ 📍 홍대 (8)    📍 강남 (6) │
│        📍 명동 (4)       │
│   📍 이태원 (3)         │
│                        │
│ • 총 15개 지역 탐험      │
│ • 가장 좋아하는 동네:    │
│   성수동 (평균 4.4점)    │
│                        │
│ [상세 지도 보기 ▶]       │
└─────────────────────────┘
```
- 방문 지역별 기록 수
- 지역별 평균 점수
- 시각적 지도 표현

## 🏅 배지 시스템 설계

### **카테고리별 배지**

#### **시작 배지**
- 🥇 **첫 걸음**: 첫 번째 기록
- 🔥 **시작이 반**: 3개 기록
- ☕ **커피 애호가**: 10개 기록
- 📚 **기록왕**: 50개 기록
- 🏆 **전설**: 100개 기록

#### **품질 배지**
- ⭐ **까다로운 입맛**: 평균 4.0점 이상
- 🌟 **감각의 달인**: 평균 4.5점 이상
- 🎯 **완벽주의자**: 5점 기록 10개
- 📈 **꾸준한 발전**: 한 달간 평점 상승

#### **탐험 배지**
- 🗺️ **동네 탐험가**: 5개 다른 지역
- 🌏 **커피 여행자**: 10개 다른 지역
- 🏪 **카페 순례자**: 20개 다른 카페
- 🔍 **숨은 맛집 사냥꾼**: 평점 4.5 이상 카페 5곳

#### **전문가 배지**
- 🔬 **실험정신**: 실험실 모드 10회
- 👨‍🔬 **커피 과학자**: 실험실 모드 50회
- 🏠 **홈바리스타**: 홈카페 모드 20회
- ⚖️ **밸런스 마스터**: 모든 모드 10회 이상

#### **특별 배지**
- 🔥 **일주일 연속**: 7일 연속 기록
- 📅 **한 달 챌린지**: 30일 중 20일 기록
- 🎉 **생일 기념**: 생일에 기록
- 🌸 **계절 탐험가**: 계절별 특별 커피

### **배지 보상 시스템**
- **즉시 보상**: 배지 획득 시 애니메이션
- **누적 보상**: 배지 수에 따른 특별 기능 해제
- **소셜 기능**: 배지 공유 및 친구 비교 (향후)

## 📊 데이터 분석 알고리즘

### **선호도 분석**
```typescript
interface FlavorProfile {
  flavor_category: string
  frequency: number      // 선택 횟수
  percentage: number     // 전체 대비 비율
  trend: 'increasing' | 'stable' | 'decreasing'
  average_score: number  // 해당 향미 평균 점수
}
```

### **트렌드 계산**
- **주간 활동**: 최근 12주 데이터
- **점수 트렌드**: 이동평균으로 변화 추이
- **선호도 변화**: 월별 향미 분포 비교
- **지역 패턴**: GPS 기반 커피샵 클러스터링

### **인사이트 생성**
- **개인화 메시지**: "산미를 점점 더 좋아하고 계시네요!"
- **추천 알고리즘**: 유사 선호도 사용자 기반
- **목표 제안**: 현재 패턴 기반 도전과제

## 🎨 UI/UX 설계

### **데이터 시각화**
- **차트 라이브러리**: Chart.js 또는 D3.js
- **색상 팔레트**: 커피 테마 색상 (브라운, 골드, 크림)
- **애니메이션**: 숫자 카운트업, 차트 그리기
- **반응형**: 모바일에서도 읽기 쉬운 차트

### **배지 디자인**
- **일관된 스타일**: 원형 배지 + 아이콘
- **등급별 색상**: 브론즈/실버/골드/플래티넘
- **잠금 상태**: 흐림 효과 + 조건 표시
- **달성 애니메이션**: 반짝임 + 사운드 효과

## 📱 반응형 설계

### **모바일 우선**
- 세로 스크롤 카드 레이아웃
- 간단한 차트 (너무 복잡하지 않게)
- 터치 친화적 인터랙션

### **태블릿/데스크톱**
- 그리드 레이아웃 (2-3컬럼)
- 더 상세한 차트와 데이터
- 호버 효과 및 툴팁

## 🚀 성능 최적화

### **데이터 로딩**
- **지연 로딩**: 차트는 뷰포트 진입 시
- **캐싱**: 통계 데이터 1시간 캐시
- **청크 로딩**: 무거운 차트 라이브러리 분리

### **계산 최적화**
- **백엔드 계산**: 복잡한 통계는 서버에서
- **메모이제이션**: 동일 조건 재계산 방지
- **배치 처리**: 여러 통계 한 번에 요청

## 🔗 네비게이션

### **진입점**
- 홈 화면 통계 요약 클릭
- 하단 네비게이션 "통계" 탭
- 기록 완료 후 "결과 보기"

### **상세 드릴다운**
- 차트 클릭 → 상세 기간 선택
- 배지 클릭 → 배지 상세 정보
- 커피 클릭 → 해당 기록 상세

## 🧪 테스트 시나리오

### **기본 기능**
- [ ] 통계 데이터 로딩
- [ ] 차트 렌더링
- [ ] 배지 상태 표시
- [ ] 드릴다운 네비게이션

### **데이터 정확성**
- [ ] 통계 계산 검증
- [ ] 실시간 업데이트
- [ ] 배지 조건 달성
- [ ] 트렌드 분석 정확도

### **성능**
- [ ] 대량 데이터 처리
- [ ] 차트 렌더링 속도
- [ ] 메모리 사용량
- [ ] 캐시 효과

## 📋 개발 우선순위

### **Phase 1 (필수)**
- 기본 통계 요약
- 간단한 차트 (막대, 선)
- 핵심 배지 시스템
- 베스트 기록 리스트

### **Phase 2 (중요)**
- 고급 차트와 분석
- 전체 배지 시스템
- 목표 설정 기능
- 인사이트 메시지

### **Phase 3 (향상)**
- 커피 지도 기능
- 소셜 비교 기능
- 예측 분석
- 개인화 추천