# CupNote 페이지 구조 및 네비게이션 설계

_최종 업데이트: 2025-01-30_

## 📱 전체 앱 구조 (v0.7.0)

### **화면 플로우 개요**

```
🏠 홈
    ↓
🎯 모드 선택
    ↓ (Cafe/HomeCafe/Lab 선택)
📝 기록 (4단계)
    ├─ Step 1: 기본 정보
    ├─ Step 2: 모드별 상세
    ├─ Step 3: 맛 평가
    └─ Step 4: 최종 검토
    ↓
🎉 결과 (Match Score)
    ↓
☕ 상세 페이지

📊 기타 주요 페이지
├─ 통계
├─ 성취
├─ 설정
└─ 온보딩 (첫 사용자)
```

## 📄 상세 페이지 구조

### **1. 홈페이지** (`/`)

- **Purpose**: 앱의 메인 진입점
- **Components**:
  - Navigation (상단 네비게이션)
  - 환영 메시지 섹션
  - 최근 기록 리스트 (CoffeeList)
  - 검색바 (SearchBar)
  - 필터 패널 (FilterPanel)
- **Features**:
  - 실시간 검색/필터링
  - 빈 상태 안내
  - 온보딩 자동 리다이렉트

### **2. 모드 선택** (`/mode-selection`)

- **Purpose**: 기록 모드 선택
- **Components**:
  - 3개 모드 카드 (Cafe/HomeCafe/Lab)
  - 각 카드: 아이콘, 제목, 설명, 소요시간
- **Navigation**: 선택 시 → `/record/step1?mode={선택모드}`

### **3. 기록 Step 1** (`/record/step1`)

- **Purpose**: 기본 정보 입력
- **Components**:
  - 진행률 표시 (25%)
  - 커피 이름 입력 (필수)
  - 로스터리/카페명
  - 날짜 선택
  - 선택된 모드 표시
- **Data**: SessionStorage에 임시 저장
- **Navigation**:
  - 뒤로: `/mode-selection`
  - 다음: `/record/step2`

### **4. 기록 Step 2** (`/record/step2`)

- **Purpose**: 모드별 상세 설정
- **Components**:
  - 진행률 표시 (50%)
  - **Cafe**: 원산지, 로스팅 레벨
  - **HomeCafe**: 추출방법, 분쇄도, 물온도, 추출시간, 비율
  - **Lab**: 품종, 가공방식, 고도, TDS, 추출수율
- **Navigation**:
  - 뒤로: `/record/step1`
  - 다음: `/record/step3`

### **5. 기록 Step 3** (`/record/step3`)

- **Purpose**: 맛 평가
- **Components**:
  - 진행률 표시 (75%)
  - 모드 토글 (간단/상세)
  - **간단 모드**: 5점 평점, 빠른 태그
  - **상세 모드**: 향미 프로파일, 한국식 표현
  - 맛 설명 텍스트
- **Navigation**:
  - 뒤로: `/record/step2`
  - 다음: `/record/step4`

### **6. 기록 Step 4** (`/record/step4`)

- **Purpose**: 최종 검토 및 저장
- **Components**:
  - 진행률 표시 (100%)
  - 전체 입력 정보 요약
  - 수정 버튼 (각 섹션)
  - 개인 메모 추가
  - 저장 버튼
- **Navigation**:
  - 뒤로: `/record/step3`
  - 저장: `/result?id={기록ID}`

### **7. 결과 페이지** (`/result`)

- **Purpose**: 기록 완료 및 Match Score 표시
- **Components**:
  - 성공 메시지
  - Match Score 시각화 (원형 차트)
  - 점수별 등급 (S/A/B/C/D)
  - 기록 요약 카드
  - 액션 버튼들
- **Navigation**:
  - 상세보기: `/coffee/{id}`
  - 새 기록: `/mode-selection`
  - 통계: `/stats`

### **8. 커피 상세** (`/coffee/[id]`)

- **Purpose**: 개별 기록 상세 보기
- **Components**:
  - 전체 기록 정보
  - 모드별 특화 정보 표시
  - 편집/삭제 버튼
  - 공유 기능
- **Features**:
  - 동적 라우팅
  - 404 처리

### **9. 통계 페이지** (`/stats`)

- **Purpose**: 커피 기록 분석
- **Components**:
  - 주요 통계 카드 (총 기록, 평균 평점 등)
  - 월별 기록 차트
  - 분포 차트 (평점, 원산지, 로스팅, 모드)
  - 인사이트 섹션
- **Features**:
  - 실시간 데이터 분석
  - 반응형 차트

### **10. 성취 페이지** (`/achievements`)

- **Purpose**: 배지 및 레벨 시스템
- **Components**:
  - 레벨 & 포인트 표시
  - 6개 카테고리 배지
  - 진행률 표시
  - 필터 (전체/획득/미획득)
- **Features**:
  - 자동 성취 감지
  - 애니메이션 효과

### **11. 설정 페이지** (`/settings`)

- **Purpose**: 앱 설정 관리
- **Components**:
  - 개인 설정 섹션
  - 앱 설정 섹션
  - 데이터 관리 (내보내기/가져오기)
  - 위험 구역 (데이터 삭제)
- **Features**:
  - JSON 내보내기/가져오기
  - LocalStorage 관리

### **12. 온보딩** (`/onboarding`)

- **Purpose**: 첫 사용자 가이드
- **Components**:
  - 4단계 가이드
  - 진행 인디케이터
  - 건너뛰기 옵션
- **Features**:
  - 자동 리다이렉트
  - 애니메이션 전환

## 🧭 네비게이션 시스템

### **1. Navigation 컴포넌트 (상단)**

- **구성요소**:
  - 로고/타이틀
  - 주요 메뉴 링크 (홈, 통계, 성취, 설정)
  - 현재 페이지 하이라이트
  - 뒤로가기 버튼 (필요시)

### **2. MobileNavigation 컴포넌트 (하단)**

- **모바일 전용** (768px 이하)
- **5개 탭**:
  - 홈
  - 통계
  - 기록 (강조 디자인)
  - 성취
  - 설정
- **Safe Area** 지원

### **기록 플로우 네비게이션**

#### **전체 플로우**

```
홈 → 모드 선택 → Step 1 → Step 2 → Step 3 → Step 4 → 결과 → 상세
```

#### **모드별 차이점**

**Cafe Mode (3-5분)**

- Step 2: 원산지, 로스팅 레벨만

**HomeCafe Mode (5-8분)**

- Step 2: 추출 방법, 분쇄도, 온도, 시간, 비율

**Lab Mode (10-15분)**

- Step 2: 품종, 가공법, 고도, TDS, 추출수율
- Step 3: 상세 모드 기본 활성화

### **상태 관리**

- **현재 화면**: `.screen.active` 클래스로 표시
- **데이터 저장**: 각 단계별 JavaScript 객체에 저장
- **진행률 계산**: 모드별 총 단계 대비 현재 위치

### **반응형 설계**

- **모바일 컨테이너**: `.mobile-container`로 스마트폰 뷰포트 시뮬레이션
- **터치 최적화**: 버튼 크기, 간격 모바일 기준
- **스크롤 최적화**: 긴 화면은 세로 스크롤 지원

## 🎨 UI/UX 설계 원칙

- **단계별 진행**: 한 번에 하나의 작업만 집중
- **시각적 피드백**: 선택 상태, 진행률 명확 표시
- **직관적 아이콘**: 텍스트 없이도 이해 가능한 아이콘 사용
- **한국어 최적화**: 한국인 커피 문화에 맞는 용어 사용
