# CupNote 현재 페이지 및 기능 문서

_최종 업데이트: 2025-07-31 (v1.0.0-rc)_

## 📱 현재 구현된 페이지 (v1.0.0-rc) ✅

### 1. **홈페이지** (`/`)

- **목적**: 앱의 메인 진입점 및 대시보드
- **주요 기능**:
  - 사용자 인증 상태 확인
  - 최근 기록한 커피 목록 (무한 스크롤)
  - 빠른 액션 버튼 (새 기록, 모든 기록 보기)
  - 실시간 검색 및 고급 필터링
  - 개인 통계 요약 표시
  - PWA 설치 프롬프트
- **기술적 특징**:
  - Supabase 실시간 데이터 동기화
  - 2단계 캐싱 (메모리 + 네트워크)
  - 반응형 그리드 레이아웃
  - Service Worker 오프라인 지원

### 2. **모드 선택** (`/mode-selection`)

- **목적**: 4가지 기록 모드 선택
- **모드 종류**:
  - ⚡ **Quick 모드**: 1-2분 빠른 평가
  - ☕ **Cafe 모드**: 카페에서 간단히 (3-5분, 4단계)
  - 🏠 **HomeCafe 모드**: 집에서 추출 레시피 (5-8분, 4단계)
  - 🔬 **Pro 모드**: SCA 표준 전문 평가 (8-12분, 계획됨)
- **기술적 특징**:
  - 선택한 모드를 URL 파라미터로 전달
  - 2x2 그리드 카드 인터페이스
  - 모드별 차별화된 UI/색상

### 3. **Quick Mode** (`/record/quick`) ✅

- **목적**: 1-2분 내 초간편 커피 평가
- **입력 항목** (단일 페이지):
  - 커피 이름, 로스터리/카페명 (필수)
  - 별점 평가 (1-5점)
  - 한 줄 평가 (50자 제한)
  - 온도, 함께한 사람, 장소 (선택)
- **기술적 특징**:
  - 단일 페이지 완성형
  - 즉시 저장 및 결과 이동
  - 최소 입력 최적화

### 4. **기록 플로우 (Cafe/HomeCafe Mode)** (4단계)

#### 4.1 **Step 1: Coffee Info** (`/record/step1`) ✅

- **기본 정보** (모든 모드):
  - 커피 이름, 로스터리, 날짜 (필수)
  - HOT/ICED 온도 선택
- **모드별 필수 필드**:
  - Cafe Mode: 카페명 추가 필수
  - Pro Mode: 카페명 + 전문가 정보 필수
- **Progressive Disclosure**:
  - 스페셜티 정보 확장 패널
  - 원산지, 품종, 가공방식, 로스팅 레벨, 고도
  - Pro Mode 전용: 농장명, 지역, 로스팅 날짜, 로트 번호
- **기술적 특징**:
  - SessionStorage 임시 저장
  - 진행률 표시 (25%)

#### 4.2 **Step 2: 모드별 상세** (`/record/step2`) ✅

- **Cafe 모드**:
  - 카페 분위기 정보
  - 추출 방법 (에스프레소, 드립, 콜드브루 등)
- **HomeCafe 모드** (`/record/homecafe`):
  - 4개 드리퍼 선택 (V60, Kalita Wave, Origami, April)
  - 원두량 다이얼 조절 (15-30g)
  - 비율 프리셋 (1:15~1:18)
  - 분쇄도 설정 (기본 + 그라인더 상세)
  - 추출 타이머 (랩타임 기록)
  - 레시피 저장/불러오기 시스템

#### 4.3 **Step 3: 맛 평가 + 감각 표현** (`/record/step3`) ✅

- **기본 평가**:
  - 별점 평가 (1-5점, 필수)
  - 맛 표현 모드 선택 (Simple/Professional/Basic)
- **한국어 감각 표현** (6개 카테고리):
  - 산미, 단맛, 쓴맛, 바디, 애프터, 밸런스
  - 탭 전환으로 카테고리 이동
  - 다중 선택 가능
- **기술적 특징**:
  - 진행률 표시 (75%)
  - 실시간 선택 상태 저장

#### 4.4 **Step 4: 개인 노트 + 완료** (`/record/step4`) ✅

- **개인 노트**:
  - 퀵 태그 선택 (모드별 차별화)
  - 자유 텍스트 (200자 제한)
- **로스터 노트**:
  - 원두 패키지의 공식 테이스팅 노트 (선택)
- **최종 검토**:
  - 입력한 모든 정보 요약
  - 단계별 수정 가능
- **HomeCafe 전용**:
  - 레시피 저장 다이얼로그
  - 즐겨찾기 설정
- **완료 처리**:
  - Supabase 저장 + 성취 시스템 체크
  - 결과 화면으로 이동

### 5. **결과 화면** (`/result`) ✅

- **목적**: 기록 완료 후 결과 표시 및 성취 확인
- **주요 기능**:
  - 테이스팅 결과 카드 표시
  - Match Score 계산 및 표시
  - 성취 시스템 (획득 배지, 레벨 업)
  - 액션 버튼 (새 기록, 홈으로)
- **기술적 특징**:
  - URL 파라미터로 기록 ID 전달
  - 실시간 성취 계산 및 애니메이션

### 6. **기타 주요 페이지** ✅

#### 6.1 **로그인/인증** (`/auth/login`, `/auth/signup`)
- Supabase Auth 기반 인증 시스템
- 소셜 로그인 (Google, 카카오 등) 지원
- 이메일 인증 및 비밀번호 재설정

#### 6.2 **프로필 설정** (`/profile`)
- 사용자 정보 수정
- 다크 모드 설정
- 알림 설정
- 데이터 내보내기/가져오기

#### 6.3 **통계 화면** (`/stats`)
- 개인 커피 기록 통계
- 성취 시스템 현황
- 맛 선호도 분석
- 커피 여정 타임라인

#### 6.4 **오프라인 지원**
- Service Worker 기반 PWA
- 오프라인 기록 저장
- 네트워크 복구 시 자동 동기화

## 📋 계획된 페이지 (v2.0)

### 1. **Pro Mode 플로우** (8-12분, 10+ 단계)
- SCA 표준 전문가 평가
- TDS 측정 및 QC 리포트
- Flavor Wheel 기반 평가

### 2. **커뮤니티 커핑**
- 그룹 커핑 세션
- 평가 비교 및 토론

### 3. **고급 분석**
- AI 기반 맛 추천
- 개인화된 개선 제안
- **기술적 특징**:
  - 토글로 모드 전환
  - 진행률 표시 (75%)

#### 3.4 **Step 4: 최종 검토** (`/record/step4`)

- **기능**:
  - 입력 정보 요약
  - 수정 가능
  - 개인 메모 추가
  - 사진 추가 (준비 중)
- **기술적 특징**:
  - 모든 데이터 통합 표시
  - 진행률 표시 (100%)

### 4. **결과 페이지** (`/result`)

- **주요 기능**:
  - Match Score 시각화 (원형 차트)
  - 커뮤니티 기반 점수 표시 (0-100점)
  - 개인화된 메시지
  - 기록 요약
- **액션 버튼**:
  - 상세보기
  - 공유하기
  - 통계보기
  - 성취 확인
  - 새 기록 시작
- **기술적 특징**:
  - 애니메이션 점수 표시
  - URL 파라미터로 기록 ID 전달

### 5. **커피 상세** (`/coffee/[id]`)

- **주요 기능**:
  - 전체 기록 정보 표시
  - 모드별 특화 정보
  - 편집/삭제 기능
  - 공유 기능
- **기술적 특징**:
  - 동적 라우팅
  - LocalStorage CRUD

### 6. **통계 페이지** (`/stats`)

- **주요 통계**:
  - 총 기록 수
  - 평균 평점
  - 최고/최저 평점 커피
  - 이번 달 기록
- **차트 및 분석**:
  - 월별 기록 추세
  - 평점 분포
  - 원산지별 분포
  - 로스팅 레벨 분포
  - 모드별 분포
  - 단골 로스터리
- **기술적 특징**:
  - 실시간 데이터 분석
  - 반응형 차트 컴포넌트

### 7. **성취 페이지** (`/achievements`)

- **시스템 구성**:
  - 6개 카테고리 (탐험가, 전문가, 수집가, 열정가, 감정표현가, 공유자)
  - 30+ 개별 배지
  - 포인트 및 레벨 시스템
- **주요 기능**:
  - 전체/획득/미획득 필터
  - 진행률 표시
  - 다음 목표 안내
- **기술적 특징**:
  - 자동 성취 감지
  - LocalStorage 저장

### 8. **설정 페이지** (`/settings`)

- **개인 설정**:
  - 사용자 이름
  - 측정 단위 (미터법/영국식)
  - 기본 기록 모드
- **앱 설정**:
  - 자동 저장
  - 평점 표시 방식
  - 컴팩트 뷰
- **데이터 관리**:
  - JSON 내보내기
  - JSON 가져오기
  - 전체 데이터 삭제
- **기술적 특징**:
  - 설정값 LocalStorage 저장
  - 파일 다운로드/업로드

### 9. **온보딩** (`/onboarding`)

- **4단계 가이드**:
  1. 환영 메시지
  2. 모드 설명
  3. 기록 방법 안내
  4. 시작하기
- **기술적 특징**:
  - 첫 방문자 자동 리다이렉트
  - 건너뛰기 가능
  - LocalStorage 플래그 저장

## 🧭 네비게이션 시스템

### **Navigation 컴포넌트**

- 모든 페이지 상단에 통일된 네비게이션
- 현재 페이지 하이라이트
- 뒤로가기 버튼 (필요시)

### **MobileNavigation 컴포넌트**

- 모바일 하단 고정 네비게이션
- 5개 주요 메뉴:
  - 홈
  - 통계
  - 기록 (강조)
  - 성취
  - 설정
- Safe Area 지원

## 🔧 공통 기능

### **LocalStorage 관리**

- `coffeeRecords`: 커피 기록 배열
- `userSettings`: 사용자 설정
- `achievements`: 성취 데이터
- `hasCompletedOnboarding`: 온보딩 완료 여부

### **SessionStorage 활용**

- 다단계 폼 데이터 임시 저장
- 페이지 이동 시 데이터 유지

### **반응형 디자인**

- 모든 페이지 모바일 우선 설계
- 태블릿/데스크톱 대응
- 터치 최적화

### **도움말 시스템**

- HelpTooltip 컴포넌트
- 주요 기능 설명
- 아이콘 기반 인터페이스

## 🚀 향후 구현 예정

1. **PWA 기능**
   - Service Worker
   - 오프라인 지원
   - 설치 가능

2. **백엔드 연동**
   - Supabase 인증
   - 실시간 동기화
   - 클라우드 백업

3. **커뮤니티 기능**
   - 커피 공유
   - 리뷰 시스템
   - 팔로우/팔로워

4. **고급 분석**
   - AI 기반 추천
   - 취향 분석
   - 성장 그래프
