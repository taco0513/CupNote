# Match Score ì •í™•ë„ ê°œì„  ê³„íšì„œ

_ì‘ì„±ì¼: 2025-08-02_  
_ë¬¸ì„œíƒ€ì…: ê¸°ìˆ  ê¸°íšì„œ_  
_ìƒíƒœ: âœ… 1ë‹¨ê³„ êµ¬í˜„ ì§„í–‰ ì¤‘_  

## ğŸ“Š ê°œìš”

CupNoteì˜ Match Score ì•Œê³ ë¦¬ì¦˜ ì •í™•ë„ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ê°œì„ í•˜ì—¬ ì‚¬ìš©ì ë§Œì¡±ë„ì™€ ë§¤ì¹­ ì‹ ë¢°ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ê³„íšì…ë‹ˆë‹¤.

## ğŸ¯ í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„

### **ê¸°ì¡´ ì•Œê³ ë¦¬ì¦˜ì˜ í•œê³„ì **

1. **ë‹¨ìˆœí•œ í‚¤ì›Œë“œ ë§¤ì¹­**: ë¬¸ìì—´ í¬í•¨ ì—¬ë¶€ë§Œ í™•ì¸ (`includes()` ê¸°ë°˜)
2. **ê°€ì¤‘ì¹˜ ê³ ì •**: ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ë™ì¼í•œ 70:30 ë¹„ìœ¨ ì ìš©
3. **ë§¤ì¹­ í…Œì´ë¸” í•œê³„**: ì œí•œì ì¸ ë™ì˜ì–´/ìœ ì‚¬ì–´ ì»¤ë²„ë¦¬ì§€
4. **ë§¥ë½ ë¬´ì‹œ**: ë¡œìŠ¤í„° ë…¸íŠ¸ì˜ ë¬¸ë§¥ì  ì˜ë¯¸ ë¯¸ë°˜ì˜ ("subtle citrus" vs "bright citrus")
5. **ê°œì¸í™” ë¶€ì¡±**: ì‚¬ìš©ìë³„ ì„ í˜¸ë„ë‚˜ ìˆ™ë ¨ë„ ë¯¸ê³ ë ¤
6. **í•™ìŠµ ë¶ˆê°€**: ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ê°œì„  ì‹œìŠ¤í…œ ì—†ìŒ

### **í˜„ì¬ ì •í™•ë„ ì¶”ì •**

- **í–¥ë¯¸ ë§¤ì¹­**: ~65% ì •í™•ë„ (í‚¤ì›Œë“œ ê¸°ë°˜)  
- **ê°ê° ë§¤ì¹­**: ~70% ì •í™•ë„ (ìƒëŒ€ì ìœ¼ë¡œ ë‹¨ìˆœ)  
- **ì „ì²´ ë§Œì¡±ë„**: ~67% (ì¶”ì •ì¹˜)

---

## ğŸš€ 6ë‹¨ê³„ ê°œì„  ë¡œë“œë§µ

### **âœ… 1ë‹¨ê³„: ê³ ê¸‰ í…ìŠ¤íŠ¸ ë§¤ì¹­** (ì§„í–‰ ì¤‘)
**ë‚œì´ë„**: â­ ì‰¬ì›€ | **ì†Œìš”ì‹œê°„**: 2-3ì‹œê°„ | **ì •í™•ë„ í–¥ìƒ**: +15-20%

#### êµ¬í˜„ ë‚´ìš©
- **í¼ì§€ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜**: Levenshtein distance ê¸°ë°˜ ìœ ì‚¬ ë‹¨ì–´ íƒì§€
- **í™•ì¥ëœ ë™ì˜ì–´ í…Œì´ë¸”**: ê¸°ì¡´ ëŒ€ë¹„ 2-3ë°° í™•ì¥
- **ìœ ì‚¬ë„ ì ìˆ˜ ì‹œìŠ¤í…œ**: 0-1 ë²”ìœ„ì˜ ë§¤ì¹­ ì‹ ë¢°ë„
- **ë§¤ì¹­ ì‹ ë¢°ë„ í‘œì‹œ**: ì‚¬ìš©ìì—ê²Œ ë§¤ì¹­ í’ˆì§ˆ íˆ¬ëª…ì„± ì œê³µ

#### ê¸°ìˆ ì  êµ¬í˜„
```typescript
interface MatchResult {
  keyword: string
  similarity: number      // 0-1 ìœ ì‚¬ë„ ì ìˆ˜
  confidence: number      // ë§¤ì¹­ ì‹ ë¢°ë„
  context: string[]       // ì£¼ë³€ ë‹¨ì–´ë“¤
}

const findSimilarKeywords = (
  note: string, 
  targetKeyword: string
): MatchResult[] => {
  // Levenshtein distance + ìŒì„±í•™ì  ìœ ì‚¬ì„±
  return fuzzyMatch(note, targetKeyword, {
    threshold: 0.7,
    maxDistance: 2,
    phonetic: true
  })
}
```

#### ì˜ˆìƒ ê°œì„  íš¨ê³¼
- "citrus" â†” "ì‹œíŠ¸ëŸ¬ìŠ¤", "ì˜¤ë Œì§€í–¥" ë§¤ì¹­ ê°œì„ 
- "chocolate" â†” "ì´ˆì½œë¦¿ë§›", "ì½”ì½”ì•„í–¥" ì •í™•ë„ í–¥ìƒ
- ì˜¤íƒ€ ë° í‘œê¸° ë³€í˜• ëŒ€ì‘ ê°•í™”

---

### **ğŸ“‹ 2ë‹¨ê³„: ë™ì  ê°€ì¤‘ì¹˜ ì‹œìŠ¤í…œ** (ë°±ë¡œê·¸)
**ë‚œì´ë„**: â­â­ ë³´í†µ | **ì†Œìš”ì‹œê°„**: 4-6ì‹œê°„ | **ì •í™•ë„ í–¥ìƒ**: +20-25%

#### êµ¬í˜„ ê³„íš
```typescript
interface UserProfile {
  tastingExperience: 'beginner' | 'intermediate' | 'expert'
  flavorSensitivity: number     // 0-1 ê°œì¸ë³„ í–¥ë¯¸ ë¯¼ê°ë„
  preferredCategories: string[] // ìì£¼ ì„ íƒí•˜ëŠ” ì¹´í…Œê³ ë¦¬
  matchingHistory: AccuracyLog[] // ê³¼ê±° ë§¤ì¹­ ì •í™•ë„ ê¸°ë¡
}

const calculateDynamicWeights = (
  profile: UserProfile, 
  coffeeType: string
) => {
  // ì´ˆë³´ì: ê°ê°í‘œí˜„ ë¹„ì¤‘ â†‘ (í–¥ë¯¸ 60% + ê°ê° 40%)
  // ì „ë¬¸ê°€: í–¥ë¯¸ ë¹„ì¤‘ â†‘ (í–¥ë¯¸ 80% + ê°ê° 20%)  
  // ë¼ì´íŠ¸ ë¡œìŠ¤íŠ¸: í–¥ë¯¸ ë¹„ì¤‘ â†‘
  // ë‹¤í¬ ë¡œìŠ¤íŠ¸: ê°ê°í‘œí˜„ ë¹„ì¤‘ â†‘
}
```

---

### **ğŸ“‹ 3ë‹¨ê³„: í™•ì¥ëœ ë§¤ì¹­ í…Œì´ë¸” + ì‹œë§¨í‹± ë§¤ì¹­** (ë°±ë¡œê·¸)
**ë‚œì´ë„**: â­â­â­ ì–´ë ¤ì›€ | **ì†Œìš”ì‹œê°„**: 1-2ì¼ | **ì •í™•ë„ í–¥ìƒ**: +25-35%

#### êµ¬í˜„ ê³„íš
```typescript
interface FlavorProfile {
  primary: string[]      // ì§ì ‘ ë§¤ì¹­ (1.0 ì ìˆ˜)
  related: string[]      // ê´€ë ¨ í–¥ë¯¸ (0.8 ì ìˆ˜)
  opposite: string[]     // ìƒë°˜ëœ í–¥ë¯¸ (-0.5 ì ìˆ˜)
  intensity: number      // í–¥ë¯¸ ê°•ë„ ë§ì¶¤ (1-5)
  categories: string[]   // ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ ë§¤ì¹­
}

// Word2Vec, BERT ë“± í™œìš©í•œ ì˜ë¯¸ì  ìœ ì‚¬ì„±
const calculateSemanticSimilarity = async (
  userInput: string, 
  roasterNote: string
) => {
  // "ì˜¤ë Œì§€" â†” "citrusy bright" = 0.85 ìœ ì‚¬ë„
  // "ë‹¤í¬ì´ˆì½œë¦¿" â†” "rich cocoa notes" = 0.92 ìœ ì‚¬ë„
}
```

---

### **ğŸ“‹ 4ë‹¨ê³„: ì»¨í…ìŠ¤íŠ¸ ì–´ì›¨ì–´ ë§¤ì¹­** (ë°±ë¡œê·¸)
**ë‚œì´ë„**: â­â­â­â­ ë§¤ìš° ì–´ë ¤ì›€ | **ì†Œìš”ì‹œê°„**: 3-5ì¼ | **ì •í™•ë„ í–¥ìƒ**: +30-40%

#### êµ¬í˜„ ê³„íš
- **NLP íŒŒì‹±**: ë¡œìŠ¤í„° ë…¸íŠ¸ì˜ ë¬¸ë§¥ì  ì˜ë¯¸ ë¶„ì„
- **ê°•ë„ ì¸ì‹**: "subtle citrus" vs "bright citrusy"
- **ì‹œê°„ì  ë§¤ì¹­**: "chocolate finish" vs "initial chocolate"
- **ì¡°í•© ì¸ì‹**: "caramel and vanilla" vs "caramel or vanilla"

---

### **ğŸ“‹ 5ë‹¨ê³„: ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ê°œì¸í™”** (ë°±ë¡œê·¸)
**ë‚œì´ë„**: â­â­â­â­â­ ì „ë¬¸ê°€ | **ì†Œìš”ì‹œê°„**: 1-2ì£¼ | **ì •í™•ë„ í–¥ìƒ**: +40-50%

#### êµ¬í˜„ ê³„íš
- **ê°œì¸í™” ëª¨ë¸**: ì‚¬ìš©ìë³„ í–¥ë¯¸ ì„ í˜¸ë„ í•™ìŠµ
- **ì •í™•ë„ ê¸°ë¡**: ê³¼ê±° ë§¤ì¹­ ì •í™•ë„ ì¶”ì 
- **ë³´ì • ê³„ìˆ˜**: ê°œì¸ë³„ ë§¤ì¹­ íŒ¨í„´ ë³´ì •
- **í˜‘ì—… í•„í„°ë§**: ìœ ì‚¬í•œ ì·¨í–¥ ì‚¬ìš©ì íŒ¨í„´ í™œìš©

---

### **ğŸ“‹ 6ë‹¨ê³„: ì‹¤ì‹œê°„ í•™ìŠµ & í”¼ë“œë°± ë£¨í”„** (ë°±ë¡œê·¸)
**ë‚œì´ë„**: â­â­â­â­â­â­ ì—°êµ¬ê¸‰ | **ì†Œìš”ì‹œê°„**: 1ê°œì›”+ | **ì •í™•ë„ í–¥ìƒ**: +50-60%

#### êµ¬í˜„ ê³„íš
- **í”¼ë“œë°± ì‹œìŠ¤í…œ**: ì‚¬ìš©ì ë§¤ì¹­ ë§Œì¡±ë„ ìˆ˜ì§‘
- **A/B í…ŒìŠ¤íŠ¸**: ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ì‹¤ì‹œê°„ ë¹„êµ
- **ëª¨ë¸ ì¬í•™ìŠµ**: í”¼ë“œë°± ê¸°ë°˜ ìë™ ëª¨ë¸ ì—…ë°ì´íŠ¸
- **ì§€ì†ì  ê°œì„ **: ì»¤ë®¤ë‹ˆí‹° + ê°œì¸ ë°ì´í„° ê· í˜• ìµœì í™”

---

## ğŸ“Š ë‹¨ê³„ë³„ êµ¬í˜„ ìš°ì„ ìˆœìœ„

| ë‹¨ê³„ | ìƒíƒœ | ë‚œì´ë„ | ì‹œê°„ | ì •í™•ë„ í–¥ìƒ | ROI | êµ¬í˜„ ê³„íš |
|------|------|--------|------|-------------|-----|-----------|
| **1ë‹¨ê³„** | ğŸ”„ **ì§„í–‰ ì¤‘** | â­ | 2-3h | +15-20% | â­â­â­â­â­ | ì¦‰ì‹œ êµ¬í˜„ |
| **2ë‹¨ê³„** | ğŸ“‹ ë°±ë¡œê·¸ | â­â­ | 4-6h | +20-25% | â­â­â­â­ | v2.1 ê³„íš |
| **3ë‹¨ê³„** | ğŸ“‹ ë°±ë¡œê·¸ | â­â­â­ | 1-2d | +25-35% | â­â­â­ | v2.2 ê³„íš |
| **4ë‹¨ê³„** | ğŸ“‹ ë°±ë¡œê·¸ | â­â­â­â­ | 3-5d | +30-40% | â­â­ | v3.0 ê³„íš |
| **5ë‹¨ê³„** | ğŸ“‹ ë°±ë¡œê·¸ | â­â­â­â­â­ | 1-2w | +40-50% | â­ | ì—°êµ¬ í”„ë¡œì íŠ¸ |
| **6ë‹¨ê³„** | ğŸ“‹ ë°±ë¡œê·¸ | â­â­â­â­â­â­ | 1m+ | +50-60% | â­ | ì¥ê¸° ë¡œë“œë§µ |

---

## ğŸ¯ 1ë‹¨ê³„ ìƒì„¸ êµ¬í˜„ ê³„íš

### **êµ¬í˜„ ëŒ€ìƒ íŒŒì¼**
- `/src/lib/match-score.ts` - í•µì‹¬ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜
- `/src/lib/fuzzy-matching.ts` - ìƒˆë¡œìš´ í¼ì§€ ë§¤ì¹­ ìœ í‹¸ë¦¬í‹°
- `/src/lib/enhanced-dictionaries.ts` - í™•ì¥ëœ ë§¤ì¹­ í…Œì´ë¸”

### **êµ¬í˜„ ì„¸ë¶€ì‚¬í•­**

#### 1. **í¼ì§€ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜**
```typescript
// Levenshtein distance ê³„ì‚°
const calculateDistance = (str1: string, str2: string): number => {
  // í¸ì§‘ ê±°ë¦¬ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜
}

// ìŒì„±í•™ì  ìœ ì‚¬ì„± (í•œê¸€ íŠ¹í™”)
const calculatePhoneticSimilarity = (korean1: string, korean2: string): number => {
  // í•œê¸€ ìëª¨ ë¶„í•´ ê¸°ë°˜ ìœ ì‚¬ì„±
}

// ì¢…í•© ìœ ì‚¬ë„ ì ìˆ˜
const calculateOverallSimilarity = (
  textSimilarity: number,
  phoneticSimilarity: number,
  contextBonus: number
): number => {
  return (textSimilarity * 0.6 + phoneticSimilarity * 0.3 + contextBonus * 0.1)
}
```

#### 2. **í™•ì¥ëœ ë§¤ì¹­ í…Œì´ë¸”**
```typescript
export const ENHANCED_FLAVOR_MATCHING = {
  // ê¸°ì¡´ ëŒ€ë¹„ 3ë°° í™•ì¥
  citrus: {
    primary: ['ì‹œíŠ¸ëŸ¬ìŠ¤', 'ì˜¤ë Œì§€', 'ë ˆëª¬', 'ë¼ì„', 'ìëª½'],
    related: ['ìƒí¼í•œ', 'ì˜¤ë Œì§€í–¥', 'ì‹œíŠ¸ëŸ¬ìŠ¤í–¥', 'ê·¤', 'ë ˆëª¬í–¥'],
    variations: ['citrusy', 'orange', 'lemon', 'lime'],
    intensity: ['subtle citrus', 'bright citrus', 'strong citrus'],
    confidence: 0.95
  },
  // ... ë‹¤ë¥¸ í–¥ë¯¸ë“¤ë„ ë™ì¼í•˜ê²Œ í™•ì¥
}
```

#### 3. **ë§¤ì¹­ ì‹ ë¢°ë„ ì‹œìŠ¤í…œ**
```typescript
interface EnhancedMatchResult {
  keyword: string
  userSelection: string
  similarity: number      // 0-1 ìœ ì‚¬ë„
  confidence: number      // ë§¤ì¹­ ì‹ ë¢°ë„
  matchType: 'exact' | 'fuzzy' | 'semantic' | 'contextual'
  explanation: string     // ì™œ ë§¤ì¹­ë˜ì—ˆëŠ”ì§€ ì„¤ëª…
}
```

### **ì„±ê³µ ì§€í‘œ (KPI)**
- **ë§¤ì¹­ ì •í™•ë„**: í˜„ì¬ 67% â†’ ëª©í‘œ 82%+ 
- **ì‚¬ìš©ì ë§Œì¡±ë„**: ë§¤ì¹­ ê²°ê³¼ì— ëŒ€í•œ ê¸ì • í”¼ë“œë°± ì¦ê°€
- **ë§¤ì¹­ ì‹ ë¢°ë„**: ë†’ì€ confidence ì ìˆ˜ ë¹„ìœ¨ ì¦ê°€
- **ì»¤ë²„ë¦¬ì§€**: ë§¤ì¹­ë˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì ì…ë ¥ ê°ì†Œ

---

## ğŸ“ˆ ì˜ˆìƒ íš¨ê³¼ ë° ì„±ê³¼ ì¸¡ì •

### **ì •ëŸ‰ì  ì§€í‘œ**
- **ì •í™•ë„ ê°œì„ **: ë‹¨ê³„ë³„ 15-60% ëˆ„ì  í–¥ìƒ
- **ì‘ë‹µ ì‹œê°„**: 1ë‹¨ê³„ëŠ” ì„±ëŠ¥ ì˜í–¥ ìµœì†Œ (<10ms ì¶”ê°€)
- **ë§¤ì¹­ ì„±ê³µë¥ **: í˜„ì¬ ~70% â†’ 1ë‹¨ê³„ í›„ ~85%

### **ì •ì„±ì  ì§€í‘œ**  
- **ì‚¬ìš©ì ì‹ ë¢°ë„**: ë§¤ì¹­ ê²°ê³¼ì— ëŒ€í•œ í™•ì‹  ì¦ê°€
- **í•™ìŠµ íš¨ê³¼**: ì‚¬ìš©ìì˜ ì»¤í”¼ ê°ê° ë°œë‹¬ ë„ì›€
- **ì¬ì‚¬ìš©ì„±**: ë§¤ì¹­ í’ˆì§ˆ í–¥ìƒìœ¼ë¡œ ì§€ì† ì‚¬ìš© ì¦ê°€

---

## ğŸ”§ ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### **ì„±ëŠ¥ ìµœì í™”**
- **1ë‹¨ê³„**: ì‚¬ì „ ê³„ì‚° + ìºì‹±ìœ¼ë¡œ ì„±ëŠ¥ ì˜í–¥ ìµœì†Œí™”
- **2-3ë‹¨ê³„**: ì„œë²„ì‚¬ì´ë“œ ì—°ì‚° + ê²°ê³¼ ìºì‹±
- **4-6ë‹¨ê³„**: ë°±ê·¸ë¼ìš´ë“œ ì²˜ë¦¬ + ë¹„ë™ê¸° ì—…ë°ì´íŠ¸

### **í™•ì¥ì„± ê³ ë ¤**
- ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ ë‹¨ê³„ë³„ ë…ë¦½ ë°°í¬ ê°€ëŠ¥
- A/B í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ ì „í™˜ ì‹œìŠ¤í…œ
- ë‹¤êµ­ì–´ ì§€ì›ì„ ìœ„í•œ ì–¸ì–´ë³„ ë§¤ì¹­ í…Œì´ë¸”

### **ë°ì´í„° ìˆ˜ì§‘ ê³„íš**
- ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ì‹œìŠ¤í…œ êµ¬ì¶•
- ë§¤ì¹­ ì •í™•ë„ ë¡œê¹… ë° ë¶„ì„
- ì»¤ë®¤ë‹ˆí‹° ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬

---

## ğŸ“… êµ¬í˜„ íƒ€ì„ë¼ì¸

### **2025-08-02 ~ 2025-08-05** (1ë‹¨ê³„)
- [x] ê¸°íšì„œ ì‘ì„± ë° ë¬¸ì„œí™”
- [ ] í¼ì§€ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- [ ] í™•ì¥ëœ ë§¤ì¹­ í…Œì´ë¸” ì‘ì„±
- [ ] ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•© ë° í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ìµœì í™” ë° ë°°í¬

### **2025-08-06 ì´í›„** (ë°±ë¡œê·¸)
- 2ë‹¨ê³„: ì‚¬ìš©ì í”„ë¡œí•„ ì‹œìŠ¤í…œ êµ¬ì¶• (v2.1)
- 3ë‹¨ê³„: ì‹œë§¨í‹± ë§¤ì¹­ ì—°êµ¬ ë° êµ¬í˜„ (v2.2)
- 4-6ë‹¨ê³„: ì¥ê¸° ë¡œë“œë§µìœ¼ë¡œ ê´€ë¦¬

---

## ğŸ¯ ê²°ë¡ 

**1ë‹¨ê³„ ê³ ê¸‰ í…ìŠ¤íŠ¸ ë§¤ì¹­**ì„ ìš°ì„  êµ¬í˜„í•˜ì—¬ ì¦‰ì‹œ ì²´ê° ê°€ëŠ¥í•œ ê°œì„  íš¨ê³¼ë¥¼ ì œê³µí•˜ê³ , ë‚˜ë¨¸ì§€ ë‹¨ê³„ë“¤ì€ ë°±ë¡œê·¸ì—ì„œ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ì¥ê¸°ì ì¸ ì •í™•ë„ ê°œì„ ì„ ë‹¬ì„±í•©ë‹ˆë‹¤.

**í•µì‹¬ ì„±ê³µìš”ì†Œ**:
- âœ… ë‹¨ê³„ì  ì ‘ê·¼ìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´
- âœ… ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ê²€ì¦  
- âœ… ê¸°ìˆ ì  ë¶€ì±„ ìµœì†Œí™”
- âœ… ì§€ì†ê°€ëŠ¥í•œ ê°œì„  í”„ë¡œì„¸ìŠ¤

---

**ë¬¸ì„œ ìƒíƒœ**: âœ… ì™„ë£Œ  
**ë‹¤ìŒ ì•¡ì…˜**: 1ë‹¨ê³„ í¼ì§€ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ì‹œì‘  
**ë‹´ë‹¹ì**: ê°œë°œíŒ€  
**ê²€í†  ì£¼ê¸°**: ë‹¨ê³„ë³„ ì™„ë£Œ ì‹œì 