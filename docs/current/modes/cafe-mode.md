# Cafe Mode - 간편 커피 기록 모드

## 🎯 모드 개요

**목적**: 카페에서 간단하고 빠르게 커피 경험을 기록
**소요시간**: 3-5분
**대상 사용자**: 커피 초보자, 간편 기록을 원하는 사용자
**핵심 가치**: 빠름, 간편함, 직관성

## 📱 플로우 단계 (4단계 구현) ✅

### 1. 모드 선택 + Coffee Info (25% 진행률)

**라우팅**: `/mode-selection` → `/record/step1`

- 모드 선택 화면에서 "☕ Cafe Mode" 선택
- **필수 정보**: 커피 이름, 카페명, 로스터리, 날짜
- **온도 선택**: HOT/ICED (시각적 버튼)
- **Progressive Disclosure**: 스페셜티 정보 확장 패널
  - 원산지, 품종, 가공방식, 로스팅 레벨, 고도 (선택사항)
- **특징**: 간편함과 빠른 기록에 중점, 다른 모드와 차별화

### 2. 추가 정보 (Step2) (50% 진행률)

**라우팅**: `/record/step2`

- **카페 분위기 정보**: 카페별 추가 컨텍스트
- **추출 방법**: 에스프레소, 드립, 콜드브루 등 (선택사항)
- **특징**: 카페 경험의 맥락 정보 수집

### 3. 맛 평가 + 감각 표현 (75% 진행률)

**라우팅**: `/record/step3`

- **별점 평가**: 1-5점 필수 입력
- **맛 표현 모드 선택**: Simple/Professional/Basic
- **한국어 감각 표현** (6개 카테고리 탭)
  - 산미: 상큼한, 밝은, 과일향의, 톡 쏘는, 청량한
  - 단맛: 달콤한, 부드러운, 캐러멜향의, 꿀같은, 깔끔한
  - 쓴맛: 진한, 강한, 로스팅향의, 깊은, 묵직한
  - 바디: 가벼운, 중간, 묵직한, 부드러운, 진한
  - 애프터: 깔끔한, 여운이 긴, 개운한, 달콤한, 향긋한
  - 밸런스: 조화로운, 균형잡힌, 완성도 높은, 부족한, 과한
- **특징**: 탭 전환으로 카테고리 이동, 다중 선택 가능

### 4. 개인 노트 + 완료 (100% 진행률)

**라우팅**: `/record/step4`

- **퀵 태그 선택**
  - ☀️ 아침에 마시기 좋아요
  - 🍯 달달해서 좋아요
  - ✨ 산미가 매력적이에요
  - 💪 진하고 묵직해요
  - 😌 부드럽고 편안해요
  - 💕 또 마시고 싶어요
- **자유 텍스트**: 200자 제한으로 간단한 메모
- **로스터 노트**: 카페/로스터 공식 테이스팅 노트 (선택사항)
- **테이스팅 결과 카드** 표시 및 **성취 시스템** 체크
- **액션**: 홈으로 돌아가기, 새로운 기록 시작

## 💾 데이터 구조

```typescript
interface CafeModeData {
  mode: 'cafe'
  coffee_info: {
    cafe_name: string
    coffee_name: string
    temperature: 'hot' | 'iced'
    origin?: string
    variety?: string
    process?: string
    roast_level?: string
    altitude?: number
  }
  flavor_data: {
    selected_flavors: string[] // 최대 5개
  }
  sensory_expression: {
    acidity?: string[]
    sweetness?: string[]
    bitterness?: string[]
    body?: string[]
    aftertaste?: string[]
    balance?: string[]
  }
  personal_comment: {
    quick_tags?: string[]
    free_text?: string // 200자 제한
  }
  roaster_notes?: string
}
```

## 🎨 UI/UX 특징

### 설계 원칙

- **최소 입력**: 필수 정보만 요구, 선택사항 최소화
- **직관적 선택**: 아이콘과 색상으로 빠른 인식
- **건너뛰기 가능**: 모든 선택적 단계에서 스킵 허용
- **즉시 피드백**: 선택 즉시 시각적 확인

### 진행률 표시

- 총 7단계 중 현재 위치 표시 (14% → 29% → 43% → 57% → 71% → 86% → 100%)
- 각 단계별 명확한 퍼센티지 제공
- 뒤로가기로 이전 단계 수정 가능

### 접근성

- 44px 이상 터치 타겟
- 명확한 색상 대비
- 한국어 중심 UI

## 📊 성과 지표

### 목표 메트릭

- **완료율**: 90% 이상 (시작한 사용자의 완료 비율)
- **완료 시간**: 평균 3-5분
- **재사용률**: 주간 2회 이상 사용
- **만족도**: 사용 후 긍정적 피드백 80% 이상

### 주요 이탈 지점

1. 커피 인포 → 맛 평가 (평가 부담감)
2. 감각 표현 (선택지 과다)
3. 퍼스널 노트 (추가 입력 부담)

## 🔧 기술 구현

### 라우팅

```javascript
// Cafe Mode 4단계 플로우 (실제 구현)
const cafeFlow = [
  '/mode-selection',     // 1. 모드 선택
  '/record/step1',       // 2. Coffee Info (기본+고급 정보)
  '/record/step2',       // 3. 추가 정보 (카페 컨텍스트)
  '/record/step3',       // 4. 맛 평가 + 감각 표현
  '/record/step4',       // 5. 개인 노트 + 완료
]
```

### 상태 관리

- **sessionStorage**: 단계별 데이터 임시 저장
- **Supabase**: 최종 데이터 영구 저장
- **진행률 계산**: 4단계 기준 퍼센티지 (25%, 50%, 75%, 100%)

### 성능 최적화

- **즉시 로딩**: PWA 캐싱으로 오프라인 지원
- **부드러운 전환**: 페이지 간 애니메이션
- **배터리 효율**: 최소한의 백그라운드 처리

## 🎯 개선 방향

### 단기 개선

- [ ] 자주 선택하는 향미 우선 표시
- [ ] 개인 맞춤 퀵 태그 추천
- [ ] 입력 중 임시 저장 기능

### 중장기 개선

- [ ] AI 기반 향미 추천
- [ ] 음성 입력 지원
- [ ] 카메라로 커피 정보 자동 인식
- [ ] 소셜 공유 기능 강화
