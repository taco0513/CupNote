# CupNote ê´€ë¦¬ì ì‹œìŠ¤í…œ ì¢…í•© ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ê´€ë¦¬ì ê¶Œí•œ ë° ì¸ì¦](#ê´€ë¦¬ì-ê¶Œí•œ-ë°-ì¸ì¦)
3. [ì‚¬ìš©ì í”Œë¡œìš°](#ì‚¬ìš©ì-í”Œë¡œìš°)
4. [ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥](#ê´€ë¦¬ì-ëŒ€ì‹œë³´ë“œ-ê¸°ëŠ¥)
5. [ê°œë°œì ì˜¨ë³´ë”©](#ê°œë°œì-ì˜¨ë³´ë”©)
6. [ë³´ì•ˆ ë° ëª¨ë‹ˆí„°ë§](#ë³´ì•ˆ-ë°-ëª¨ë‹ˆí„°ë§)
7. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ğŸ¯ ì‹œìŠ¤í…œ ê°œìš”

### í•µì‹¬ ëª©ì 
- **CupNote í”Œë«í¼ì˜ ì „ì²´ì ì¸ ìš´ì˜ ë° ê´€ë¦¬**
- **ì‚¬ìš©ì ë°ì´í„°, ì½˜í…ì¸ , ì‹œìŠ¤í…œ ì„±ëŠ¥ì˜ í†µí•© ê´€ë¦¬**
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë° ë¬¸ì œ í•´ê²°**

### ì•„í‚¤í…ì²˜ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CupNote Admin System                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Authentication Layer                                   â”‚
â”‚  â”œâ”€â”€ Domain-based (@mycupnote.com)                     â”‚
â”‚  â”œâ”€â”€ Role-based (user_metadata.role)                   â”‚
â”‚  â””â”€â”€ Development Override (NODE_ENV)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Authorization Layer                                    â”‚
â”‚  â”œâ”€â”€ Admin Layout Protection                           â”‚
â”‚  â”œâ”€â”€ Route-level Guards                                â”‚
â”‚  â””â”€â”€ Component-level Permissions                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Dashboard Modules                                      â”‚
â”‚  â”œâ”€â”€ System Dashboard                                  â”‚
â”‚  â”œâ”€â”€ User Management                                   â”‚
â”‚  â”œâ”€â”€ Content Management                                â”‚
â”‚  â”œâ”€â”€ Performance Analytics                             â”‚
â”‚  â”œâ”€â”€ Feedback Management                               â”‚
â”‚  â””â”€â”€ System Settings                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Data Layer                                            â”‚
â”‚  â”œâ”€â”€ Supabase Admin API                               â”‚
â”‚  â”œâ”€â”€ Real-time Subscriptions                          â”‚
â”‚  â””â”€â”€ Analytics Integration                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ê´€ë¦¬ì ê¶Œí•œ ë° ì¸ì¦

### ì¸ì¦ ë°©ì‹

#### 1. ë„ë©”ì¸ ê¸°ë°˜ ì¸ì¦ (Primary)
```typescript
// @mycupnote.com ë„ë©”ì¸ ìë™ ê´€ë¦¬ì ê¶Œí•œ
const isDomainAdmin = user.email?.endsWith('@mycupnote.com')
```

#### 2. íŠ¹ì • ê³„ì • (Explicit)
```typescript
// ëª…ì‹œì  ê´€ë¦¬ì ê³„ì •
const isExplicitAdmin = user.email === 'admin@mycupnote.com'
```

#### 3. ë©”íƒ€ë°ì´í„° ê¸°ë°˜ (Role-based)
```typescript
// Supabase user_metadataì˜ role í•„ë“œ
const isRoleAdmin = user.user_metadata?.role === 'admin'
```

#### 4. ê°œë°œ í™˜ê²½ (Development Override)
```typescript
// ê°œë°œ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ë¡œê·¸ì¸ ì‚¬ìš©ì ê´€ë¦¬ì
const isDevAdmin = process.env.NODE_ENV === 'development'
```

### ê¶Œí•œ ì²´í¬ ë¡œì§
```typescript
const isAdmin = () => {
  if (!user) return false
  
  return user.email === 'admin@mycupnote.com' || 
         user.email?.endsWith('@mycupnote.com') ||
         user.user_metadata?.role === 'admin' ||
         process.env.NODE_ENV === 'development'
}
```

### í™˜ê²½ë³„ ê¶Œí•œ ì •ì±…

| í™˜ê²½ | ê´€ë¦¬ì ê¶Œí•œ | ì ‘ê·¼ ë°©ì‹ |
|------|-------------|-----------|
| **Development** | ëª¨ë“  ë¡œê·¸ì¸ ì‚¬ìš©ì | ìë™ ê¶Œí•œ ë¶€ì—¬ |
| **Staging** | @mycupnote.com ë„ë©”ì¸ë§Œ | ì œí•œì  ì ‘ê·¼ |
| **Production** | @mycupnote.com + ëª…ì‹œì  role | ì—„ê²©í•œ ê²€ì¦ |

---

## ğŸ”„ ì‚¬ìš©ì í”Œë¡œìš°

### 1. ê´€ë¦¬ì ê³„ì • ìƒì„± í”Œë¡œìš°

```mermaid
flowchart TD
    A[Setup Admin Page] --> B{ê³„ì • ì •ë³´ ì…ë ¥}
    B --> C[ì´ë©”ì¼ @mycupnote.com ê²€ì¦]
    C --> D[ë¹„ë°€ë²ˆí˜¸ ì •ì±… í™•ì¸]
    D --> E[Supabase ê³„ì • ìƒì„±]
    E --> F[user_metadataì— role: admin ì„¤ì •]
    F --> G[ì´ë©”ì¼ ì¸ì¦ ìš”ì²­]
    G --> H[ì„±ê³µ í˜ì´ì§€ í‘œì‹œ]
    H --> I[ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸]
```

**URL**: https://mycupnote.com/setup-admin

**ë‹¨ê³„ë³„ ì„¸ë¶€ì‚¬í•­**:
1. **ê³„ì • ì •ë³´ ì…ë ¥**
   - ì´ë©”ì¼: `admin@mycupnote.com` (ê¸°ë³¸ê°’)
   - ì´ë¦„: `CupNote Administrator` (ê¸°ë³¸ê°’)
   - ë¹„ë°€ë²ˆí˜¸: ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„± ë„êµ¬ ì œê³µ

2. **ìœ íš¨ì„± ê²€ì‚¬**
   - ì´ë©”ì¼ ë„ë©”ì¸ í™•ì¸ (`@mycupnote.com`)
   - ë¹„ë°€ë²ˆí˜¸ ì •ì±… (ìµœì†Œ 8ì, ë³µí•©ì„±)
   - ê³„ì • ì¤‘ë³µ í™•ì¸

3. **ê³„ì • ìƒì„±**
   - Supabase Auth ê³„ì • ìƒì„±
   - ë©”íƒ€ë°ì´í„° ì„¤ì •: `{ role: 'admin', name: '...', created_by: 'setup_page' }`
   - ì´ë©”ì¼ ì¸ì¦ ë§í¬ ë°œì†¡

### 2. ê´€ë¦¬ì ë¡œê·¸ì¸ í”Œë¡œìš°

```mermaid
flowchart TD
    A[ì¸ì¦ í˜ì´ì§€ ì ‘ê·¼] --> B{ì´ë¯¸ ë¡œê·¸ì¸?}
    B -->|Yes| C[ë¡œê·¸ì¸ëœ ì‚¬ìš©ì í™”ë©´]
    B -->|No| D[ë¡œê·¸ì¸ í¼ í‘œì‹œ]
    D --> E[ìê²©ì¦ëª… ì…ë ¥]
    E --> F[Supabase Auth ê²€ì¦]
    F --> G{ê´€ë¦¬ì ê¶Œí•œ?}
    G -->|Yes| H[/admin ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸]
    G -->|No| I[/ í™ˆí˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸]
    C --> J[ë¡œê·¸ì•„ì›ƒ ì˜µì…˜ ì œê³µ]
    J --> K[ë¡œê·¸ì•„ì›ƒ í›„ ë¡œê·¸ì¸ í¼]
```

**URL**: https://mycupnote.com/auth

**ê´€ë¦¬ì ìë™ ê°ì§€ ë¡œì§**:
```typescript
// ë¡œê·¸ì¸ ì„±ê³µ í›„ ì‹¤í–‰
const isAdmin = form.email === 'admin@mycupnote.com' || 
               form.email.endsWith('@mycupnote.com')

if (isAdmin) {
  router.push('/admin')  // ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
} else {
  router.push('/')       // ì¼ë°˜ í™ˆí˜ì´ì§€
}
```

### 3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ í”Œë¡œìš°

```mermaid
flowchart TD
    A[/admin í˜ì´ì§€ ì ‘ê·¼] --> B[AdminLayout ê¶Œí•œ ì²´í¬]
    B --> C{ì‚¬ìš©ì ë¡œê·¸ì¸?}
    C -->|No| D[/auth/login ë¦¬ë‹¤ì´ë ‰íŠ¸]
    C -->|Yes| E{ê´€ë¦¬ì ê¶Œí•œ?}
    E -->|No| F[/ í™ˆí˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸]
    E -->|Yes| G[ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë¡œë“œ]
    G --> H[ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ]
    H --> I[ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ë Œë”ë§]
    I --> J[ì‹¤ì‹œê°„ ë°ì´í„° êµ¬ë… ì‹œì‘]
```

**URL**: https://mycupnote.com/admin

**ë³´í˜¸ ê³„ì¸µ**:
1. **AdminLayout**: ìµœìƒìœ„ ê¶Œí•œ ì²´í¬
2. **useEffect**: ì‹¤ì‹œê°„ ê¶Œí•œ ê²€ì¦
3. **ë¡œë”© ìƒíƒœ**: ê²€ì¦ ì¤‘ ë¡œë”© í‘œì‹œ
4. **ë¦¬ë‹¤ì´ë ‰íŠ¸**: ê¶Œí•œ ì—†ì„ ì‹œ ìë™ ì´ë™

### 4. ë„¤ë¹„ê²Œì´ì…˜ í†µí•© í”Œë¡œìš°

```mermaid
flowchart TD
    A[ì‚¬ìš©ì ë¡œê·¸ì¸] --> B[Navigation ì»´í¬ë„ŒíŠ¸]
    B --> C{ê´€ë¦¬ì ê¶Œí•œ?}
    C -->|Yes| D[í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ì— ê´€ë¦¬ì ë©”ë‰´ í‘œì‹œ]
    C -->|No| E[ì¼ë°˜ ì‚¬ìš©ì ë©”ë‰´ë§Œ í‘œì‹œ]
    D --> F[Shield ì•„ì´ì½˜ + ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë§í¬]
    F --> G[í´ë¦­ ì‹œ /admin ì´ë™]
    E --> H[ì¼ë°˜ ë©”ë‰´: í”„ë¡œí•„, ì„¤ì •, ë„ì›€ë§]
```

**êµ¬í˜„ ìœ„ì¹˜**: `src/components/Navigation.tsx`

**ì¡°ê±´ë¶€ ë Œë”ë§**:
```tsx
{isAdmin() && (
  <Link href="/admin" className="admin-dashboard-link">
    <Shield className="h-4 w-4 mr-3 text-coffee-600" />
    <span>ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</span>
  </Link>
)}
```

---

## ğŸ¢ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥

### 1. ì‹œìŠ¤í…œ ëŒ€ì‹œë³´ë“œ (`/admin`)

#### ì‹¤ì‹œê°„ ì§€í‘œ
- **ì‚¬ìš©ì í†µê³„**: ì´ ì‚¬ìš©ì ìˆ˜, í™œì„± ì‚¬ìš©ì, ì‹ ê·œ ê°€ì…ì
- **ì½˜í…ì¸  í†µê³„**: ì´ ì»¤í”¼ ê¸°ë¡ ìˆ˜, ì¼ì¼ ê¸°ë¡ ìˆ˜, ëª¨ë“œë³„ ì‚¬ìš©ëŸ‰
- **ì‹œìŠ¤í…œ ì„±ëŠ¥**: ì‘ë‹µ ì‹œê°„, ì˜¤ë¥˜ìœ¨, ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ
- **ì‹¤ì‹œê°„ í™œë™**: í˜„ì¬ ì ‘ì†ì, ìµœê·¼ ê¸°ë¡, ì‹œìŠ¤í…œ ì´ë²¤íŠ¸

#### ìœ„ì ¯ êµ¬ì„±
```tsx
<AdminDashboard>
  <SystemMetrics />      // ì‹œìŠ¤í…œ ì „ì²´ í˜„í™©
  <UserMetrics />        // ì‚¬ìš©ì ê´€ë ¨ ì§€í‘œ
  <ContentMetrics />     // ì½˜í…ì¸  ê´€ë ¨ ì§€í‘œ
  <RecentActivity />     // ìµœê·¼ í™œë™ í”¼ë“œ
  <SystemAlerts />       // ì‹œìŠ¤í…œ ì•Œë¦¼ ë° ê²½ê³ 
  <QuickActions />       // ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼ë“¤
</AdminDashboard>
```

### 2. ì‚¬ìš©ì ê´€ë¦¬ (`/admin/users`)

#### ê¸°ëŠ¥ ëª©ë¡
- **ì‚¬ìš©ì ëª©ë¡**: ì „ì²´ ì‚¬ìš©ì ì¡°íšŒ, ê²€ìƒ‰, í•„í„°ë§
- **ì‚¬ìš©ì ìƒì„¸**: ê°œë³„ ì‚¬ìš©ì í”„ë¡œí•„, í™œë™ ë‚´ì—­, ê¸°ë¡ í†µê³„
- **ê¶Œí•œ ê´€ë¦¬**: ê´€ë¦¬ì ê¶Œí•œ ë¶€ì—¬/íšŒìˆ˜, ê³„ì • ìƒíƒœ ë³€ê²½
- **ì¼ê´„ ì‘ì—…**: ëŒ€ëŸ‰ ì´ë©”ì¼ ë°œì†¡, ê³„ì • ìƒíƒœ ë³€ê²½

#### ë°ì´í„° êµ¬ì¡°
```typescript
interface UserManagement {
  id: string
  email: string
  username: string
  avatar_url?: string
  created_at: string
  last_sign_in_at: string
  user_metadata: {
    role?: 'admin' | 'user'
    name: string
  }
  stats: {
    total_records: number
    favorite_mode: 'cafe' | 'homecafe' | 'lab'
    avg_rating: number
  }
  status: 'active' | 'suspended' | 'deleted'
}
```

### 3. ì»¤í”¼ ê¸°ë¡ ê´€ë¦¬ (`/admin/records`)

#### ì½˜í…ì¸  ê´€ë¦¬
- **ì „ì²´ ê¸°ë¡ ì¡°íšŒ**: ëª¨ë“  ì‚¬ìš©ìì˜ ì»¤í”¼ ê¸°ë¡ í†µí•© ë·°
- **ì½˜í…ì¸  ëª¨ë”ë ˆì´ì…˜**: ë¶€ì ì ˆí•œ ì½˜í…ì¸  ì‹ ê³  ì²˜ë¦¬
- **ë°ì´í„° ë¶„ì„**: ì¸ê¸° ì›ë‘, ë¡œìŠ¤í„°ë¦¬, ë§› íŠ¸ë Œë“œ ë¶„ì„
- **ë°±ì—… ë° ë³µì›**: ë°ì´í„° ë°±ì—…, ì‚­ì œëœ ê¸°ë¡ ë³µì›

#### ê¸°ë¡ ë¶„ì„ ë„êµ¬
```typescript
interface RecordAnalytics {
  total_records: number
  records_by_mode: {
    cafe: number
    homecafe: number
    lab: number
  }
  popular_origins: Array<{
    country: string
    count: number
  }>
  trending_flavors: Array<{
    flavor: string
    frequency: number
  }>
  roaster_rankings: Array<{
    roaster: string
    rating: number
    count: number
  }>
}
```

### 4. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (`/admin/analytics`)

#### ì„±ëŠ¥ ì§€í‘œ
- **ì›¹ ì„±ëŠ¥**: Core Web Vitals, í˜ì´ì§€ ë¡œë“œ ì‹œê°„, SEO ì ìˆ˜
- **ë°ì´í„°ë² ì´ìŠ¤**: ì¿¼ë¦¬ ì„±ëŠ¥, ì—°ê²° ìƒíƒœ, ì €ì¥ì†Œ ì‚¬ìš©ëŸ‰
- **ì˜¤ë¥˜ ì¶”ì **: JavaScript ì˜¤ë¥˜, ì„œë²„ ì˜¤ë¥˜, ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨
- **ì‚¬ìš©ì í–‰ë™**: í˜ì´ì§€ ë·°, ì„¸ì…˜ ì‹œê°„, ì´íƒˆë¥ 

#### ëª¨ë‹ˆí„°ë§ ë„êµ¬ í†µí•©
- **Sentry**: ì˜¤ë¥˜ ì¶”ì  ë° ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- **Vercel Analytics**: ì›¹ ì„±ëŠ¥ ë° ì‚¬ìš©ì ë¶„ì„
- **Supabase Metrics**: ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### 5. í”¼ë“œë°± ê´€ë¦¬ (`/admin/feedback`)

#### í”¼ë“œë°± ì‹œìŠ¤í…œ
- **ë² íƒ€ í”¼ë“œë°±**: ì‚¬ìš©ìê°€ ì œì¶œí•œ í”¼ë“œë°± ì¡°íšŒ ë° ì²˜ë¦¬
- **ë²„ê·¸ ë¦¬í¬íŠ¸**: ì‹œìŠ¤í…œ ì˜¤ë¥˜ ë° ë²„ê·¸ ì‹ ê³  ê´€ë¦¬
- **ê¸°ëŠ¥ ìš”ì²­**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì œì•ˆ ë° ìš°ì„ ìˆœìœ„ ê´€ë¦¬
- **ì‚¬ìš©ì ë¬¸ì˜**: ì¼ë°˜ ë¬¸ì˜ ë° ì§€ì› ìš”ì²­ ì²˜ë¦¬

#### í”¼ë“œë°± ì›Œí¬í”Œë¡œìš°
```mermaid
flowchart TD
    A[ì‚¬ìš©ì í”¼ë“œë°± ì œì¶œ] --> B[ê´€ë¦¬ì í”¼ë“œë°± ëª©ë¡]
    B --> C[í”¼ë“œë°± ë¶„ë¥˜]
    C --> D{íƒ€ì… ê²°ì •}
    D -->|Bug| E[ë²„ê·¸ íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œ ì—°ë™]
    D -->|Feature| F[ì œí’ˆ ë¡œë“œë§µì— ì¶”ê°€]
    D -->|General| G[ì¼ë°˜ ë¬¸ì˜ ì²˜ë¦¬]
    E --> H[ê°œë°œíŒ€ í• ë‹¹]
    F --> I[ìš°ì„ ìˆœìœ„ ì„¤ì •]
    G --> J[ì‚¬ìš©ì ì‘ë‹µ]
    H --> K[í•´ê²° ìƒíƒœ ì—…ë°ì´íŠ¸]
    I --> L[ê°œë°œ ê³„íš ìˆ˜ë¦½]
    J --> M[í”¼ë“œë°± ì™„ë£Œ]
```

### 6. ì‹œìŠ¤í…œ ì„¤ì • (`/admin/settings`)

#### ì•± ì„¤ì • ê´€ë¦¬
- **ê³µì§€ì‚¬í•­**: ì „ì²´ ì‚¬ìš©ì ëŒ€ìƒ ê³µì§€ì‚¬í•­ ì‘ì„± ë° ê´€ë¦¬
- **í”¼ì²˜ í”Œë˜ê·¸**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ ì ì§„ì  ë°°í¬ ì œì–´
- **ì½˜í…ì¸  ê´€ë¦¬**: ì¹´í˜ ì •ë³´, ë¡œìŠ¤í„°ë¦¬ ë°ì´í„°, ì»¤í”¼ ì›ë‘ ì •ë³´
- **ì‹œìŠ¤í…œ ì„¤ì •**: ë©”ì¼ ì„¤ì •, API í‚¤ ê´€ë¦¬, ë³´ì•ˆ ì •ì±…

#### êµ¬ì„± ìš”ì†Œ
```typescript
interface SystemSettings {
  announcements: Array<{
    id: string
    title: string
    content: string
    type: 'info' | 'warning' | 'urgent'
    active: boolean
    start_date: string
    end_date?: string
  }>
  feature_flags: {
    ENABLE_NEW_TASTING_FLOW: boolean
    ENABLE_COMMUNITY_FEATURES: boolean
    ENABLE_AI_RECOMMENDATIONS: boolean
  }
  content_data: {
    cafes: CafeData[]
    roasters: RoasterData[]
    coffee_beans: CoffeeBeanData[]
  }
}
```

---

## ğŸ‘¨â€ğŸ’» ê°œë°œì ì˜¨ë³´ë”©

### ê´€ë¦¬ì ì‹œìŠ¤í…œ ê°œë°œ ê°€ì´ë“œ

#### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/your-org/cupnote.git
cd cupnote

# 2. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš© í•„ìˆ˜)
npm install

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
# Supabase í”„ë¡œì íŠ¸ ì •ë³´ ì…ë ¥

# 4. ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

#### 2. ê´€ë¦¬ì ê¶Œí•œ í™•ì¸

**ê°œë°œ í™˜ê²½ì—ì„œëŠ” ëª¨ë“  ë¡œê·¸ì¸ ì‚¬ìš©ìê°€ ìë™ìœ¼ë¡œ ê´€ë¦¬ì ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.**

```typescript
// src/app/admin/layout.tsx
const isAdmin = process.env.NODE_ENV === 'development' || 
                user.email?.endsWith('@mycupnote.com') ||
                user.user_metadata?.role === 'admin'
```

#### 3. ìƒˆë¡œìš´ ê´€ë¦¬ì í˜ì´ì§€ ì¶”ê°€

```typescript
// src/app/admin/new-feature/page.tsx
'use client'

import { useAuth } from '../../../contexts/AuthContext'
import AdminPageHeader from '../../../components/admin/AdminPageHeader'

export default function NewFeaturePage() {
  const { user } = useAuth()
  
  return (
    <div className="space-y-6">
      <AdminPageHeader 
        title="ìƒˆë¡œìš´ ê¸°ëŠ¥"
        description="ìƒˆë¡œìš´ ê´€ë¦¬ì ê¸°ëŠ¥ ì„¤ëª…"
      />
      
      {/* í˜ì´ì§€ ì½˜í…ì¸  */}
    </div>
  )
}
```

#### 4. ë„¤ë¹„ê²Œì´ì…˜ì— ë©”ë‰´ ì¶”ê°€

```typescript
// src/app/admin/layout.tsx - navigationItems ë°°ì—´ì— ì¶”ê°€
{
  id: 'new-feature',
  label: 'ìƒˆë¡œìš´ ê¸°ëŠ¥',
  icon: <NewIcon className="h-5 w-5" />,
  href: '/admin/new-feature',
  description: 'ìƒˆë¡œìš´ ê´€ë¦¬ì ê¸°ëŠ¥'
}
```

#### 5. ë°ì´í„° ì ‘ê·¼ íŒ¨í„´

```typescript
// ê´€ë¦¬ì ì „ìš© ë°ì´í„° ì ‘ê·¼
import { supabase } from '../../../lib/supabase'

// RLS ìš°íšŒ (ê´€ë¦¬ìë§Œ ê°€ëŠ¥)
const { data: allUserRecords } = await supabase
  .from('coffee_records')
  .select('*')
  .order('created_at', { ascending: false })

// ì‚¬ìš©ìë³„ í†µê³„
const { data: userStats } = await supabase
  .rpc('get_admin_user_stats')
```

### ì½”ë”© ì»¨ë²¤ì…˜

#### 1. íŒŒì¼ êµ¬ì¡°
```
src/app/admin/
â”œâ”€â”€ layout.tsx              # ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ (ê¶Œí•œ ì²´í¬)
â”œâ”€â”€ page.tsx                # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ page.tsx           # ì‚¬ìš©ì ê´€ë¦¬ ë©”ì¸
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx       # ê°œë³„ ì‚¬ìš©ì ìƒì„¸
â”œâ”€â”€ records/
â”‚   â”œâ”€â”€ page.tsx           # ê¸°ë¡ ê´€ë¦¬ ë©”ì¸
â”‚   â””â”€â”€ components/        # ê¸°ë¡ ê´€ë¦¬ ì „ìš© ì»´í¬ë„ŒíŠ¸
â””â”€â”€ components/            # ê³µí†µ ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ AdminPageHeader.tsx
    â”œâ”€â”€ AdminMetricCard.tsx
    â””â”€â”€ AdminDataTable.tsx
```

#### 2. ì»´í¬ë„ŒíŠ¸ ëª…ëª… ê·œì¹™
```typescript
// ê´€ë¦¬ì ì „ìš© ì»´í¬ë„ŒíŠ¸ëŠ” Admin ì ‘ë‘ì‚¬ ì‚¬ìš©
AdminDashboard.tsx
AdminUserList.tsx
AdminMetricCard.tsx

// í›…ì€ useAdmin ì ‘ë‘ì‚¬
useAdminStats.ts
useAdminUsers.ts
```

#### 3. íƒ€ì… ì •ì˜
```typescript
// src/types/admin.ts
export interface AdminUser {
  id: string
  email: string
  role: 'admin' | 'user'
  // ... ë‹¤ë¥¸ í•„ë“œë“¤
}

export interface AdminMetric {
  label: string
  value: number | string
  change?: number
  trend?: 'up' | 'down' | 'stable'
}
```

---

## ğŸ”’ ë³´ì•ˆ ë° ëª¨ë‹ˆí„°ë§

### ë³´ì•ˆ ì •ì±…

#### 1. ì ‘ê·¼ ì œì–´
- **ë‹¤ì¤‘ ê³„ì¸µ ë³´ì•ˆ**: ì¸ì¦ â†’ ê¶Œí•œ í™•ì¸ â†’ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼
- **ì„¸ì…˜ ê´€ë¦¬**: Supabase Auth ê¸°ë°˜ ìë™ ì„¸ì…˜ ê´€ë¦¬
- **ê¶Œí•œ ê²€ì¦**: ëª¨ë“  ê´€ë¦¬ì ì‘ì—…ì— ëŒ€í•´ ì‹¤ì‹œê°„ ê¶Œí•œ ì¬í™•ì¸

#### 2. ê°ì‚¬ ë¡œê·¸
```typescript
// ëª¨ë“  ê´€ë¦¬ì ì‘ì—…ì€ ë¡œê·¸ë¡œ ê¸°ë¡
logger.info('Admin action', {
  userId: user.id,
  email: user.email,
  action: 'user_suspended',
  targetUserId: targetUser.id,
  timestamp: new Date().toISOString(),
  ipAddress: request.ip
})
```

#### 3. ë³´ì•ˆ í—¤ë”
```javascript
// vercel.json
{
  "headers": [
    {
      "source": "/(.*)",
      "headers": [
        {"key": "X-Frame-Options", "value": "DENY"},
        {"key": "X-Content-Type-Options", "value": "nosniff"},
        {"key": "Referrer-Policy", "value": "strict-origin-when-cross-origin"}
      ]
    }
  ]
}
```

### ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

#### 1. ì‹¤ì‹œê°„ ì•Œë¦¼
- **ì‹œìŠ¤í…œ ì˜¤ë¥˜**: ì¦‰ì‹œ Slack/ì´ë©”ì¼ ì•Œë¦¼
- **ë¹„ì •ìƒ ì ‘ê·¼**: ê´€ë¦¬ì ê¶Œí•œ ë‚¨ìš© ê°ì§€
- **ì„±ëŠ¥ ì €í•˜**: ì‘ë‹µ ì‹œê°„ ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ì•Œë¦¼

#### 2. ëŒ€ì‹œë³´ë“œ ëª¨ë‹ˆí„°ë§
```typescript
// ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
interface SystemHealth {
  status: 'healthy' | 'warning' | 'critical'
  metrics: {
    responseTime: number
    errorRate: number
    activeUsers: number
    databaseConnections: number
  }
  alerts: Alert[]
}
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

#### 1. ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ë¶ˆê°€
**ì¦ìƒ**: `/admin` ì ‘ê·¼ ì‹œ í™ˆí˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

**í•´ê²° ë°©ë²•**:
1. ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
2. ì´ë©”ì¼ ë„ë©”ì¸ í™•ì¸ (`@mycupnote.com`)
3. ë¸Œë¼ìš°ì € ìºì‹œ ë° ì¿ í‚¤ ì‚­ì œ
4. ê°œë°œì ë„êµ¬ ì½˜ì†”ì—ì„œ ê¶Œí•œ ë¡œê·¸ í™•ì¸

```typescript
// ë””ë²„ê¹… ì½”ë“œ
console.log('User:', user)
console.log('Is Admin:', isAdmin())
console.log('Email check:', user?.email?.endsWith('@mycupnote.com'))
```

#### 2. ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì‘ë™ ì•ˆí•¨
**ì¦ìƒ**: ë¡œê·¸ì•„ì›ƒ í´ë¦­ ì‹œ ë°˜ì‘ ì—†ìŒ

**í•´ê²° ë°©ë²•**:
1. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API í˜¸ì¶œ í™•ì¸
2. AuthContextì˜ logout í•¨ìˆ˜ ìƒíƒœ í™•ì¸
3. Supabase ì—°ê²° ìƒíƒœ ì ê²€

#### 3. í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ì— ê´€ë¦¬ì ë©”ë‰´ ì•ˆë³´ì„
**ì¦ìƒ**: ê´€ë¦¬ì ê³„ì •ì¸ë° ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë§í¬ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**:
1. `isAdmin()` í•¨ìˆ˜ ê²°ê³¼ í™•ì¸
2. ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ í™•ì¸
3. user ê°ì²´ì˜ ë©”íƒ€ë°ì´í„° í™•ì¸

### ë””ë²„ê¹… ë„êµ¬

#### 1. ë¡œê¹… ì‹œìŠ¤í…œ
```typescript
// src/lib/logger.ts ì‚¬ìš©
import { logger } from '../lib/logger'

logger.info('Admin access attempt', { 
  userId: user.id, 
  email: user.email,
  isAdmin: isAdmin()
})
```

#### 2. ê°œë°œì ë„êµ¬ í™•ì¥
```typescript
// ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ ë””ë²„ê·¸ í•¨ìˆ˜
if (process.env.NODE_ENV === 'development') {
  (window as any).cupnoteDebug = {
    user,
    isAdmin: isAdmin(),
    permissions: getUserPermissions()
  }
}
```

---

## ğŸ“ ì§€ì› ë° ì—°ë½ì²˜

### ê¸°ìˆ  ì§€ì›
- **ê°œë°œíŒ€**: dev@mycupnote.com
- **ì‹œìŠ¤í…œ ê´€ë¦¬**: tech@mycupnote.com
- **ë³´ì•ˆ ë¬¸ì˜**: security@mycupnote.com

### ë¬¸ì„œ ì—…ë°ì´íŠ¸
ì´ ë¬¸ì„œëŠ” ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ìµœì‹  ë²„ì „ì€ í•­ìƒ í”„ë¡œì íŠ¸ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-08-03
**ë¬¸ì„œ ë²„ì „**: v1.0.0
**ë‹´ë‹¹ì**: CupNote ê°œë°œíŒ€