# ⚙️ 프로필/설정 화면 설계

## 📱 화면 개요

**프로필/설정 화면**은 사용자 정보 관리, 앱 설정 조정, 개인 선호도 설정을 통합적으로 제공하는 마이페이지입니다.

## 🎯 핵심 목적

- **사용자 정보 관리**: 프로필 정보 수정 및 표시
- **개인화 설정**: 커피 선호도 및 앱 동작 설정
- **데이터 관리**: 백업, 내보내기, 계정 관리
- **앱 정보**: 버전, 도움말, 피드백 채널

## 📋 화면 구성 요소

### 1. **프로필 헤더**

```
        [📷]
    김커피 님
  coffee.lover@email.com
  가입일: 2025년 1월

  📊 총 47개 기록 | ⭐ 평균 4.2점
```

- 프로필 이미지 (편집 가능)
- 사용자명 (편집 가능)
- 이메일 주소
- 가입일
- 간단한 통계 요약

### 2. **커피 선호도 설정**

```
☕ 커피 선호도
┌─────────────────────────┐
│ 🎯 선호하는 커피 스타일    │
│ □ 산미 있는    □ 단맛 강한 │
│ □ 바디감 좋은  □ 균형잡힌  │
│                        │
│ 🏪 주로 이용하는 방식     │
│ ○ 카페 방문  ○ 홈브루잉  │
│                        │
│ 📊 기본 모드 설정        │
│ [Cafe ▼] 새 기록시 기본값 │
└─────────────────────────┘
```

- 선호 플레이버 프로필
- 주요 사용 패턴
- 기본 테이스팅 모드

### 3. **앱 설정**

```
🔧 앱 설정
┌─────────────────────────┐
│ 🔔 알림 설정             │
│ 기록 리마인더    [ON ●]  │
│ 업적 알림       [OFF ○] │
│                        │
│ 🎨 디스플레이            │
│ 다크 모드      [AUTO ▼] │
│ 언어          [한국어 ▼] │
│                        │
│ 📊 데이터 설정           │
│ 자동 백업       [ON ●]  │
│ 오프라인 저장    [ON ●]  │
└─────────────────────────┘
```

- 알림 설정 (on/off)
- 테마 설정 (라이트/다크/자동)
- 언어 설정
- 데이터 동기화 설정

### 4. **데이터 관리**

```
💾 데이터 관리
┌─────────────────────────┐
│ 📤 내보내기              │
│ CSV로 내보내기    [▶]   │
│ JSON으로 백업     [▶]   │
│                        │
│ 🔄 동기화               │
│ 클라우드 백업     [▶]   │
│ 마지막 백업: 1시간 전    │
│                        │
│ ⚠️ 위험한 작업           │
│ 모든 데이터 삭제  [▶]   │
└─────────────────────────┘
```

- 데이터 내보내기 (CSV, JSON)
- 클라우드 백업/복원
- 전체 데이터 삭제 (확인 절차)

### 5. **계정 관리**

```
👤 계정 관리
┌─────────────────────────┐
│ 🔐 보안                 │
│ 비밀번호 변경     [▶]   │
│ 로그인 기록       [▶]   │
│                        │
│ 📧 연동 계정             │
│ Google 연동      [연결됨] │
│ Apple ID        [연결 안됨]│
│                        │
│ 🚪 계정 작업             │
│ 로그아웃         [▶]   │
│ 계정 삭제        [▶]   │
└─────────────────────────┘
```

- 보안 설정
- 소셜 로그인 연동
- 로그아웃/계정 삭제

### 6. **앱 정보 및 지원**

```
ℹ️ 앱 정보
┌─────────────────────────┐
│ 📱 CupNote              │
│ 버전 1.0.0 (최신)       │
│                        │
│ 📋 정보                 │
│ 이용약관         [▶]   │
│ 개인정보처리방침  [▶]   │
│ 오픈소스 라이선스 [▶]   │
│                        │
│ 💬 지원                 │
│ 피드백 보내기     [▶]   │
│ 문의하기         [▶]   │
│ 평가하기         [▶]   │
└─────────────────────────┘
```

- 앱 버전 정보
- 법적 문서 링크
- 피드백 및 지원 채널

### 7. **개발자 옵션** (개발 모드)

```
🛠️ 개발자 옵션
┌─────────────────────────┐
│ 🐛 디버그 모드    [OFF ○]│
│ 📊 성능 모니터링   [OFF ○]│
│ 🔧 API 엔드포인트  [▶]   │
│ 📋 로그 보기       [▶]   │
│ 🧪 테스트 데이터   [▶]   │
└─────────────────────────┘
```

- 개발 빌드에서만 표시
- 디버깅 도구 접근
- 테스트 기능

## 🎨 UI/UX 설계

### **섹션 구분**

- **카드 기반 레이아웃**: 기능별 카드 그룹
- **시각적 구분**: 섹션 간 충분한 여백
- **일관된 아이콘**: 각 기능별 직관적 아이콘

### **인터랙션 패턴**

- **토글 스위치**: 설정 on/off 상태
- **드롭다운**: 선택 옵션 (테마, 언어)
- **액션 시트**: 위험한 작업 (삭제, 로그아웃)
- **모달**: 복잡한 설정 (선호도 편집)

### **시각적 피드백**

- **상태 표시**: 연결됨/연결 안됨
- **진행 상태**: 백업 진행률
- **확인 요청**: 중요한 작업 전 확인

## 📊 데이터 요구사항

### **사용자 프로필 데이터**

```typescript
interface UserProfile {
  id: string
  email: string
  display_name: string
  profile_image_url?: string
  created_at: string

  // 선호도 설정
  preferred_flavors: string[]
  preferred_mode: 'cafe' | 'homecafe' | 'lab'
  usage_pattern: 'cafe' | 'homebrew' | 'mixed'

  // 통계 요약
  total_records: number
  average_score: number
  favorite_cafe?: string
}
```

### **앱 설정 데이터**

```typescript
interface AppSettings {
  // 알림 설정
  notifications: {
    record_reminders: boolean
    achievement_alerts: boolean
    weekly_summary: boolean
  }

  // 디스플레이 설정
  theme: 'light' | 'dark' | 'auto'
  language: 'ko' | 'en'

  // 데이터 설정
  auto_backup: boolean
  offline_storage: boolean

  // 고급 설정
  developer_mode: boolean
  analytics_enabled: boolean
}
```

### **계정 연동 정보**

```typescript
interface ConnectedAccounts {
  google_connected: boolean
  apple_connected: boolean
  last_backup: string
  backup_status: 'synced' | 'pending' | 'error'
}
```

## 🔄 상태 관리

### **Pinia Store**

```typescript
interface ProfileState {
  user: UserProfile | null
  settings: AppSettings
  connectedAccounts: ConnectedAccounts
  isLoading: boolean
  isSaving: boolean
  error: string | null
}
```

### **주요 액션**

- `loadProfile()` - 프로필 정보 로딩
- `updateProfile(data)` - 프로필 정보 업데이트
- `updateSettings(settings)` - 설정 변경
- `exportData(format)` - 데이터 내보내기
- `deleteAccount()` - 계정 삭제
- `logout()` - 로그아웃

## 🔐 보안 고려사항

### **민감한 작업 보호**

- **재인증 요구**: 계정 삭제, 비밀번호 변경
- **확인 단계**: 2단계 확인 프로세스
- **시간 제한**: 민감한 작업 세션 타임아웃

### **데이터 보호**

- **로컬 암호화**: 민감한 설정 암호화 저장
- **안전한 전송**: HTTPS 통신 강제
- **로그 보호**: 개인정보 로깅 방지

## 📱 반응형 설계

### **모바일 우선**

- 세로 스크롤 레이아웃
- 터치 친화적 크기
- 단일 컬럼 구성

### **태블릿 최적화**

- 2컬럼 레이아웃 (좌: 메뉴, 우: 상세)
- 더 넓은 카드 크기
- 사이드 네비게이션

## 🚀 성능 최적화

### **지연 로딩**

- 설정 데이터 필요시 로딩
- 이미지 최적화 로딩
- 무거운 컴포넌트 분할

### **캐싱 전략**

- 설정 정보 로컬 캐시
- 프로필 이미지 캐시
- 오프라인 설정 저장

## 🧪 테스트 시나리오

### **기본 기능**

- [ ] 프로필 정보 표시
- [ ] 설정 변경 저장
- [ ] 데이터 내보내기
- [ ] 로그아웃 동작

### **보안 테스트**

- [ ] 민감한 작업 재인증
- [ ] 데이터 암호화 확인
- [ ] 세션 타임아웃 처리

### **사용성 테스트**

- [ ] 설정 변경 즉시 반영
- [ ] 에러 상황 처리
- [ ] 접근성 준수

## 📋 개발 우선순위

### **Phase 1 (필수)**

- 기본 프로필 표시/편집
- 핵심 앱 설정
- 로그아웃 기능
- 기본 데이터 내보내기

### **Phase 2 (중요)**

- 커피 선호도 설정
- 고급 설정 옵션
- 백업/복원 기능
- 계정 연동

### **Phase 3 (향상)**

- 고급 보안 기능
- 개발자 도구
- 상세한 통계
- 커뮤니티 기능
