# HomeCafe Mode 실용적 개선 계획

HomeCafe 모드의 실제 사용성을 높이기 위한 4단계 개선 계획입니다.

## 현재 상황 분석

### ✅ 잘 구현된 부분
- 8가지 드리퍼 선택 시스템
- 정밀한 원두량 조정 (15g-30g, 1g 단위)
- 7가지 비율 프리셋 (1:15 ~ 1:18)
- 자동 물량 계산 시스템
- 선택적 정보 입력 (물 온도, 추출 시간)
- 실험 노트 기능

### 📋 개선이 필요한 부분
1. **실시간 타이머 부족** - 실제 추출 시 타이머 기능 없음
2. **레시피 관리 부족** - 성공한 레시피를 저장하고 재사용하기 어려움
3. **추출 가이드 부족** - 드리퍼별 세부 가이드나 단계별 안내 없음
4. **결과 분석 부족** - 추출 결과 분석이나 개선 제안 알고리즘 없음

## Phase 1: 타이머 시스템 구현

### 목표
실시간 추출 타이머와 단계별 랩타임 기능 구현

### 핵심 기능
- **메인 타이머**: 전체 추출 시간 추적
- **랩타임**: 푸어링 단계별 시간 기록
- **푸어링 가이드**: 드리퍼별 추천 푸어링 패턴
- **알림 시스템**: 각 단계별 알림

### 구현 범위
```typescript
interface TimerData {
  totalTime: number // 전체 경과 시간
  lapTimes: { time: number, note: string }[] // 랩타임 기록
  currentPhase: string // 현재 단계
  isRunning: boolean
  isPaused: boolean
}

interface PouringGuide {
  dripper: string
  phases: {
    name: string // 예: "Pre-infusion", "First Pour", "Second Pour" 
    targetTime: number // 목표 시간 (초)
    waterAmount: number // 이 단계에서 부을 물량
    instruction: string // 상세 안내
  }[]
}
```

### 사용자 플로우
1. HomeCafe 레시피 설정 완료
2. "추출 시작" 버튼 → 타이머 모드 진입
3. 드리퍼별 가이드와 함께 실시간 타이머 실행
4. 각 푸어링 단계에서 랩타임 기록
5. 추출 완료 후 타이밍 데이터를 레시피에 저장

## Phase 2: 레시피 관리 시스템

### 목표
성공한 레시피의 저장, 불러오기, 즐겨찾기 기능

### 핵심 기능
- **레시피 저장**: 드리퍼, 비율, 타이밍 데이터 통합 저장
- **레시피 라이브러리**: 개인 레시피 컬렉션
- **즐겨찾기**: 자주 사용하는 레시피 북마크
- **레시피 공유**: 다른 사용자와 레시피 공유 (향후)

### 데이터 구조
```typescript
interface SavedRecipe {
  id: string
  name: string // 사용자 지정 레시피 이름
  coffeeName: string
  roastery: string
  dripper: string
  coffeeAmount: number
  waterAmount: number
  ratio: number
  waterTemp?: number
  grindSetting?: string
  pouringGuide: PouringGuide
  actualTiming?: TimerData
  rating?: number // 결과 만족도
  notes?: string
  createdAt: Date
  lastUsed?: Date
  isFavorite: boolean
}
```

## Phase 3: 추출 가이드 시스템

### 목표
드리퍼별 세부 가이드와 실시간 피드백 제공

### 드리퍼별 가이드 (4개 우선 구현)
1. **V60 가이드**
   - 45초 프리인퓨전
   - 3단계 푸어링 (1:30, 2:30, 3:30)
   - 원형 푸어링 패턴

2. **Kalita Wave 가이드**
   - 30초 프리인퓨전
   - 일정한 속도로 연속 푸어링
   - 중앙 집중 푸어링

3. **Chemex 가이드**
   - 길어진 추출 시간 (4-5분)
   - 굵은 분쇄도 권장
   - 느린 푸어링 속도

4. **AeroPress 가이드**
   - 역순 추출법 vs 표준법
   - 물 온도별 추출 시간 조정
   - 압력 적용 타이밍

### 실시간 피드백
- **타이밍 피드백**: "조금 더 천천히 부으세요"
- **양 확인**: "현재 200ml 부었습니다"
- **단계 안내**: "다음: 2차 푸어링 준비"

## Phase 4: 고급 분석 시스템

### 목표
추출 결과 분석과 개선 제안 알고리즘

### 분석 요소
1. **타이밍 분석**
   - 목표 시간 vs 실제 시간 비교
   - 단계별 편차 분석
   - 일관성 점수

2. **맛 결과 분석**
   - 비율-맛 상관관계 분석
   - 추출 시간-강도 패턴
   - 개인 선호도 학습

3. **개선 제안**
   - "다음엔 비율을 1:16.5로 시도해보세요"
   - "푸어링 속도를 조금 더 천천히 해보세요"
   - "분쇄도를 한 단계 굵게 해보세요"

### 기계학습 요소 (향후)
- 개인별 선호도 패턴 학습
- 원두별 최적 추출 파라미터 예측
- 커뮤니티 데이터 기반 추천

## 우선순위 및 일정

### Phase 1 (우선) - 타이머 시스템
- 실용성 즉시 개선
- 사용자 참여도 증가
- 구현 복잡도: 중간

### Phase 2 (차순) - 레시피 관리
- 재사용성 크게 개선
- 사용자 데이터 축적 시작
- 구현 복잡도: 중간

### Phase 3 (3순위) - 추출 가이드
- 전문성 증가
- 교육적 가치 제공
- 구현 복잡도: 높음

### Phase 4 (장기) - 고급 분석
- 차별화 포인트
- 데이터 기반 인사이트
- 구현 복잡도: 매우 높음

## 성공 지표

### Phase 1 목표
- HomeCafe 모드 완료율 20% 증가
- 타이머 사용률 80% 이상
- 사용자 피드백 4.0/5.0 이상

### 전체 목표
- HomeCafe 모드가 가장 인기 있는 모드가 되기
- 레시피 재사용률 60% 이상
- 커뮤니티에서 레시피 공유 활성화